Camera HTTP API
User Guide

Version 8
2023-4

Privacy Protection Notice
As a device user or data controller, you may collect personal data about o
thers. You need to abide by local privacy protection laws and regulations,
and implement measures to protect the legitimate rights and interests o
f others.

Disclaimer
We have tried our best to ensure the completeness and accuracy of the c
ontent of the document, but it is inevitable that there will be technical in
accuracies, inconsistencies with product functions and operations, or pri
nting errors, etc.
If you have any questions or disputes, please refer to our final interpretat
ion.

Revision History

Description

Data

Version 1.0

Initial version

2016-06-01

Revision 1
Version 1.1
Revision 2

1. Add the interface of short connection

2016-11-07

accessing CGI.
2. Add rtmp port parameter to GetNetPort and
SetNetPort interfaces.
3. Add hourFmt parameter to GetTime and
SetTime interfaces.
4. Add streamType and interval parameters to
GetFtp and SetFtp interfaces.
5. Add schedule parameter to GetEmail and
SetEmail interfaces.
6. Add GetPush and SetPush interfaces.
7. Remove enable, action and schedule
parameters to GetAlarm and SetAlarm
interfaces.
8. Add emailSchedule, pushSchedule and
hourFmt to GetAbility interface.

Version 1.2

1. Add UpgradePrepare

Revision 3

2. Add Shutdown
3. Add GetAuth and SetAuth
4. Add Getcloud and Setcloud
5. Get3G and Set3G
6. GetP2p and SetP2p
7. Add Preview
8. Add rtmp=start and rtmp=stop and
rtmp=auth for rtmp
9. Ptz add GetPtzSerial SetPtzSerial

2019-4-26

GetPtzTattern SetPtzTattern command
10. Camera increases GetAutoFocus
SetAutoFocus command of focus
11. LED increases GetIrLights SetIrLights
GetPowerLed SetPowerLed command
12. Add GetAudioAlarm SetAudioAlarm
13. Add HeartBeat
14. Add GetCrop SetCrop
15. Add GetAutoUpgrade SetAutoUpgrade
CheckFirmware UpgradeOnline
UpgradeStatus in system mode
Version 1.3

1. Ptz add GetPtzSerial SetPtzSerial

Revision 4

GetPtzTattern SetPtzTattern command

2019-9-30

2. System delete ImportCfg
3. Security delete GetAuth SetAuth
4. Alarm add SetAudioAlarm
5. Complete the responsed code
Version 1.4

1. Merge CGI commands for NVR and IPC

2021-01-05

Version 1.5

1. AI adds GetAiCfg SetAiCfg GetAiState

2021-12-03

Revison 6

2. Ptz adds GetZoomFocus StartZoomFocus

Revision 5

GetPtzGuard SetPtzGuard GetPtzCheckState
PtzCheck
3. Alarm adds AudioAlarmPlay
4. LED updates GetWhiteLed SetWilteLed
5. System updates GetAbility
6. Network updates GetFtpV20 SetFtpV20
TestFtp GetNetPort SetNetPort
7. Network adds GetCertificateInfo
CertificateClear GetRtspUrl

8. video input updates SetIsp GetIsp
9. Enc updates GetEnc
10. Response updates Error
Version 1.6

1. Improve the description of the example

Revison 7

2. Add the description of video preview
3. Delete the abandoned command (rtmp
start/rtmp stop/rtmp auth)
4. Add the version field to the login command
5. Add GetSysCfg/SetSysCfg/GetStitch/SetStitch
commands
6. ISP adds multi-level frame drop and soft light
sensitivity
7. NVR cut and download video file optional
stream type
8. Increase the ptz guard parameter
9. Increase the white light setting parameters
10. Add description for ftp command
11. Improve the capability set
12. Improve the error code

Version 1.7
Revison 8

Add Privacy Protection Notice and Disclaimer

2022-9-6

Contents

Privacy Protection Notice ................................................................................................................. 2
Disclaimer .......................................................................................................................................... 2
Contents ............................................................................................................................................. 6
1 Scope ..............................................................................................................................................11
2 HTTP & Json ................................................................................................................................... 11
2.1 Protocol ...............................................................................................................................11
2.2 JSON .................................................................................................................................... 12
2.3 Token ................................................................................................................................... 13
2.4 Abbreviations ......................................................................................................................13
2.5 Definitions ...........................................................................................................................14
2.6 Command usage example .................................................................................................. 14
2.6.1 Get encoding configuration through long session connection ...............................15
2. Next execute the GetEnc command ............................................................................................. 16
2.6.2 Get encoding configuration through short session connection ............................. 21
2.7 Preview ............................................................................................................................... 26
2.7.1 rtsp mode preview ...................................................................................................26
1.Preview ipc device video ........................................................................................................... 28
2.7.2 rtmp mode preview .................................................................................................28
1. Main stream url: ........................................................................................................................... 29
2. Ext stream url: ...............................................................................................................................29
3. Sub stream url: ..............................................................................................................................29
1.Preview ipc device video ........................................................................................................... 30
2.7.3 flv mode preview ..................................................................................................... 30
1. Main stream: .................................................................................................................................30
2. Ext stream: .................................................................................................................................... 30
3. Sub stream: ................................................................................................................................... 30
1.Preview ipc device video ........................................................................................................... 30
2.8 Reolink ipc/nvr web reference ........................................................................................... 30
3 Commands ..................................................................................................................................... 33
3.1 System .................................................................................................................................33
3.1.1 GetAbility ................................................................................................................. 33
3.1.2 GetDevInfo ...............................................................................................................66
3.1.3 GetDevName ........................................................................................................... 68
3.1.4 SetDevName ............................................................................................................ 69
3.1.5 GetTime ................................................................................................................... 70
3.1.6 SetTime .................................................................................................................... 76
3.1.7 GetAutoMaint ..........................................................................................................78
3.1.8 SetAutoMaint ...........................................................................................................80
3.1.9 GetHddInfo .............................................................................................................. 82
3.1.10 Format ....................................................................................................................83
3.1.11 Upgrade ................................................................................................................. 84
3.1.12 Restore ...................................................................................................................86
3.1.13 Reboot ................................................................................................................... 87

3.1.14 UpgradePrepare .................................................................................................... 88
3.1.15 GetAutoUpgrade ....................................................................................................89
3.1.16 SetAutoUpgrade .................................................................................................... 90
3.1.17 CheckFirmware ...................................................................................................... 91
3.1.18 UpgradeOnline .......................................................................................................92
3.1.19 UpgradeStatus ....................................................................................................... 93
3.1.20 Getchannelstatus ...................................................................................................95
 Interface Description ......................................................................................................... 95
3.2 Security ............................................................................................................................... 98
3.2.1 Login .........................................................................................................................98
3.2.2 Logout ...................................................................................................................... 99
3.2.3 GetUser ..................................................................................................................101
3.2.4 AddUser ................................................................................................................. 102
3.2.5 DelUser .................................................................................................................. 104
3.2.6 ModifyUser ............................................................................................................ 105
3.2.7 GetOnline ...............................................................................................................106
3.2.8 Disconnect ............................................................................................................. 107
3.2.9 GetSysCfg ............................................................................................................... 108
3.2.10 SetSysCfg ..............................................................................................................110
 Interface Description ....................................................................................................... 110
3.3 Network ............................................................................................................................ 111
3.3.1 GetLocalLink ...........................................................................................................111
3.3.2 SetLocalLink ........................................................................................................... 114
3.3.3 GetDdns ................................................................................................................. 116
3.3.4 SetDdns ..................................................................................................................118
3.3.5 GetEmail ................................................................................................................ 119
3.3.6 SetEmail ................................................................................................................. 122
3.3.7 GetEmailV20 .......................................................................................................... 125
3.3.8 SetEmailV20 ...........................................................................................................127
3.3.9 TestEmail ................................................................................................................129
3.3.10 GetFtp .................................................................................................................. 131
3.3.11 SetFtp ...................................................................................................................134
3.3.12 GetFtpV20 ............................................................................................................137
3.3.13 SetFtpV20 ............................................................................................................ 144
3.3.14 TestFtp ................................................................................................................. 147
3.3.15 GetNtp ................................................................................................................. 149
3.3.16 SetNtp .................................................................................................................. 151
3.3.17 GetNetPort ...........................................................................................................152
3.3.18 SetNetPort ........................................................................................................... 154
3.3.19 GetUpnp .............................................................................................................. 155
3.3.20 SetUpnp ............................................................................................................... 156
3.3.21 GetWifi .................................................................................................................158
3.3.22 SetWifi ................................................................................................................. 159
3.3.23 TestWifi ................................................................................................................ 160

3.3.24 ScanWifi ............................................................................................................... 162
3.3.25 GetWifiSignal ....................................................................................................... 163
3.3.26 GetPush ................................................................................................................164
3.3.27 SetPush ................................................................................................................ 166
3.3.28 GetPushV20 ......................................................................................................... 168
3.3.29 SetPushV20 ..........................................................................................................170
3.3.30 GetPushCfg .......................................................................................................... 172
3.3.31 SetPushCfg ........................................................................................................... 173
3.3.32 GetP2p ................................................................................................................. 175
3.3.33 SetP2p ..................................................................................................................176
3.3.34 GetCertificateInfo ................................................................................................ 177
3.3.35 CertificateClear .................................................................................................... 178
3.3.36 GetRtspUrl ........................................................................................................... 179
 Interface Description ....................................................................................................... 179
3.4 Video input ....................................................................................................................... 181
3.4.1 GetImage ............................................................................................................... 181
3.4.2 SetImage ................................................................................................................ 183
3.4.3 GetOsd ................................................................................................................... 184
3.4.4 SetOsd ....................................................................................................................187
3.4.5 GetIsp .....................................................................................................................189
3.4.6 SetIsp ..................................................................................................................... 195
3.4.7 GetMask .................................................................................................................198
3.4.8 SetMask ................................................................................................................. 200
3.4.9 GetCrop ..................................................................................................................203
3.4.10 SetCrop ................................................................................................................ 205
3.4.11 GetStitch .............................................................................................................. 207
3.4.12 SetStitch ...............................................................................................................208
 Interface Description ....................................................................................................... 208
3.5 Enc .....................................................................................................................................210
3.5.1 GetEnc ....................................................................................................................210
3.5.2 SetEnc .................................................................................................................... 216
 Interface Description ....................................................................................................... 216
3.6 Record ............................................................................................................................... 218
3.6.1 GetRec ....................................................................................................................218
3.6.2 SetRec .................................................................................................................... 220
3.6.3 GetRecV20 ............................................................................................................. 222
3.6.4 SetRecV20 .............................................................................................................. 225
3.6.5 Search .................................................................................................................... 227
3.6.6 Download ...............................................................................................................232
3.6.7 Snap ....................................................................................................................... 233
3.6.8 Playback ................................................................................................................. 234
3.6.9 NvrDownload .........................................................................................................235
 Interface Description ....................................................................................................... 235
3.7 PTZ .....................................................................................................................................238

3.7.1 GetPtzPreset .......................................................................................................... 238
3.7.2 SetPtzPreset ...........................................................................................................257
3.7.3 GetPtzPatrol ...........................................................................................................258
3.7.4 SetPtzPatrol ........................................................................................................... 263
3.7.5 PtzCtrl .................................................................................................................... 265
3.7.6 GetPtzSerial ........................................................................................................... 267
3.7.7 SetPtzSerial ............................................................................................................ 270
3.7.8 GetPtzTattern .........................................................................................................271
3.7.9 SetPtzTattern ......................................................................................................... 275
3.7.10 GetAutoFocus ...................................................................................................... 277
3.7.11 SetAutoFocus .......................................................................................................278
3.7.12 GetZoomFocus .....................................................................................................279
3.7.13 StartZoomFocus ...................................................................................................280
3.7.14 GetPtzGuard ........................................................................................................ 282
3.7.15 SetPtzGuard ......................................................................................................... 283
3.7.16 GetPtzCheckState ................................................................................................ 284
3.7.17 PtzCheck .............................................................................................................. 286
 Interface Description ....................................................................................................... 286
3.8 Alarm .................................................................................................................................287
3.8.1 GetAlarm ................................................................................................................287
3.8.2 SetAlarm ................................................................................................................ 296
3.8.3 GetMdAlarm .......................................................................................................... 300
3.8.4 SetMdAlarm ...........................................................................................................314
3.8.5 GetMdState ............................................................................................................319
3.8.6 GetAudioAlarm ...................................................................................................... 320
3.8.7 SetAudioAlarm .......................................................................................................322
3.8.8 GetAudioAlarmV20 ................................................................................................324
3.8.9 SetAudioAlarmV20 ................................................................................................ 327
3.8.10 GetBuzzerAlarmV20 ............................................................................................ 328
3.8.11 SetBuzzerAlarmV20 ............................................................................................. 332
3.8.12 AudioAlarmPlay ................................................................................................... 333
 Interface Description ....................................................................................................... 333
3.10 LED .................................................................................................................................. 335
3.10.1 GetIrLights ........................................................................................................... 335
3.10.2 SetIrLights ............................................................................................................ 336
3.10.3 GetPowerLed ....................................................................................................... 337
3.10.4 SetPowerLed ........................................................................................................339
3.10.5 GetWhiteLed ........................................................................................................340
3.10.6 SetWhiteLed ........................................................................................................ 342
3.10.7 GetAiAlarm .......................................................................................................... 344
3.10.8 SetAiAlarm ........................................................................................................... 347
3.10.9 SetAlarmArea .......................................................................................................350
 Interface Description ....................................................................................................... 350
3.11 AI ..................................................................................................................................... 353

3.11.1 GetAiCfg ............................................................................................................... 353
3.11.2 SetAiCfg ................................................................................................................355
3.11.3 GetAiState ............................................................................................................356
 Interface Description ............................................................................................................... 356
4. Response ..................................................................................................................................... 358
4.1 Error .................................................................................................................................. 358

1 Scope
The document defines a series of HTTP and HTTPS based application
programming interface, covering the System, Security, Network, Video
input, Enc, Record, PTZ, and Alarm modules.
The document applies to both IPC and NVR products,and the differences
will be explained in the commands.

2 HTTP & Json
2.1 Protocol
Support both HTTP and HTTPS. By default, http is turned off. If you need
to use the http protocol, you need to go to Settings -> Network Settings
-> Advanced Settings -> Port Settings to open the http port.

HTTP and HTTPS only support the POST method, get and set all through
it.
POST /cgi-bin/api.cgi?cmd=xxx&token=20343295&paramxxx=xxx HTTP/1.1
The payload type is a JSON or file that is specified by Content-Type.
Content-Type = “application/octet-stream” or "application/json"

2.2 JSON
JSON (JavaScript Object Notation) is based on a subset of the JavaScript
Programming Language, Standard ECMA-262 3rd Edition - December
1999.
Request:
[
{
"cmd":string,
"action":int,
"param“:
{
"name": val,
...
},
}
...
]

Response:

// val = string or int

[
{
"cmd":string,
"code“:int, // rsp code, 0:success, others: false
"value": or "error" // "value" when code = 0, "error" when "code" = 1
{
"name": val,

// val = string or int

...
},
}
...
]

2.3 Token
Token is the only global certification of developers. Token is required
whenever developers are calling each port. Normally the lease for each
token is 3600 seconds and you may regain it after it expires. Please refer
to the Login command for the methods of requiring token.

2.4 Abbreviations
For the purposes of the present document, the following abbreviations
apply:
M/O

Mandatory/Optional

2.5 Definitions
For the purposes of the present document, the following definitions
apply:
initial: The initial value of the configuration.
range: The data range of the configuration.
value: The current value of the configuration.
action : Obtain initial, range and value when the value is 1, obtain only
the value when the value is 0.
channel : The channel number of the current device.

2.6 Command usage example
There are two access methods for reolink ipc/nvr:
1: Long-session access, that is, first send a login request with a user
name and password, and obtain a token, and then all subsequent
commands URL carry the token as authentication information.
2. Short session access, that is, each cgi request url carries the username
and password as authentication information.

The following are examples of the method of sending the GetEnc
command to obtain the encoding configuration through the long session
connection and the short session connection mode

2.6.1 Get encoding configuration through long session
connection
If you want to work over a persistent connection, you need to get the
Token by sending a login request.
1. get token first：
The login request url:
https://<camera_ip>/api.cgi?cmd=Login

The request body:
[

{

"cmd":"Login",
"param":{
"User":{
"Version": "0",
"userName":"admin",
"password":"xxxxxx"
}
}

}

]

Response：
[
{
"cmd" : "Login",
"code" : 0,
"value" : {
"Token" : {
"leaseTime" : 3600,
"name" : "42da7586d7b82a6"
}
}
}
]

It is also possible to simulate the test through the Advanced Rest Client
Application on Google Chrome

2. Next execute the GetEnc command

When sending a request, you need to carry the token name obtained by
the login command.
The GetEnc request url:
https://<camera_ip>/api.cgi?cmd=GetEnc&token=42da7586d7b82a6

The request body:
[

]

{

}

"cmd":"GetEnc",
"action":1,
"param":{
"channel":0
}

Response：
[
{
"cmd" : "GetEnc",
"code" : 0,
"initial" : {
"Enc" : {
"audio" : 0,
"channel" : 0,
"mainStream" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2,
"height" : 2160,
"profile" : "High",
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4,
"height" : 360,
"profile" : "High",
"size" : "640*360",

}

}

"vType" : "h264",
"width" : 640

},
"range" : {
"Enc" : [
{
"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 4096, 5120, 6144, 7168, 8192 ],
"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 2160,
"profile" : [ "Base", "Main", "High" ],
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",

},
{

8192 ],

}

"width" : 640

"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168,
"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 1440,
"profile" : [ "Base", "Main", "High" ],
"size" : "2560*1440",
"vType" : "h264",
"width" : 2560

},

},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

{

8192 ],

"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168,
"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 1296,
"profile" : [ "Base", "Main", "High" ],
"size" : "2304*1296",
"vType" : "h264",
"width" : 2304

]

}

},
"value" : {

},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

]

}

}

"Enc" : {
"audio" : 1,
"channel" : 0,
"mainStream" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2,
"height" : 2160,
"profile" : "High",
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4,
"height" : 360,
"profile" : "High",
"size" : "640*360",
"vType" : "h264",
"width" : 640
}
}

2.6.2 Get encoding configuration through short session
connection
The short connection interface is for users to skip the process of logging
in to the IP Camera to get token. In this way, users just need the user
name and password to access the IP Camera easily. Here is how short
connection works.

The request url:

https://<camera_ip>/api.cgi?cmd=GetEnc&user=admin&password=xxxx

The request body:
[

{

}

]

"cmd":"GetEnc",
"action":1,
"param":{
"channel":0
}

Response：
[

{

"cmd" : "GetEnc",
"code" : 0,
"initial" : {
"Enc" : {
"audio" : 0,
"channel" : 0,
"mainStream" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2,
"height" : 2160,
"profile" : "High",
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4,
"height" : 360,
"profile" : "High",
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

}

},
"range" : {
"Enc" : [
{
"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 4096, 5120, 6144, 7168, 8192 ],
"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 2160,
"profile" : [ "Base", "Main", "High" ],
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}
},

{

8192 ],

"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168,
"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 1440,
"profile" : [ "Base", "Main", "High" ],
"size" : "2560*1440",
"vType" : "h264",
"width" : 2560

},
{

},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

"audio" : "boolean",
"chnBit" : 1,

"mainStream" : {
"bitRate" : [ 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168,

8192 ],

"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 1296,
"profile" : [ "Base", "Main", "High" ],
"size" : "2304*1296",
"vType" : "h264",
"width" : 2304

]

}

},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

},
"value" : {
"Enc" : {
"audio" : 1,
"channel" : 0,

]

}

}

}

"mainStream" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2,
"height" : 2160,
"profile" : "High",
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4,
"height" : 360,
"profile" : "High",
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

2.7 Preview
Reolink IPC supports rtsp/rtmp/flv video transmission protocol, rtmp/flv
video transmission protocol only supports h264 encoding format video,
and rtsp supports h264 and h265 encoding format video.

2.7.1 rtsp mode preview
The rtsp port is closed by default, so before using the rtsp protocol, you
need to go to Settings -> Network Settings -> Advanced Settings -> Port
Settings to open the rtsp port.

1. main stream url
rtsp://(user name):(password)@(ip address):554/Preview_(channel
number)_main

2. sub stream url
rtsp://(user name):(password)@(ip address):554/Preview_(channel
number)_sub

The following is the rtsp url of the historical version, no longer
recommended, but still compatible.
main stream:
rtsp://(user name):(password)@(ip address):554/h264Preview_(channel number)_main
rtsp://(user name):(password)@(ip address):554/h265Preview_(channel number)_main
rtsp://(user name):(password)@(ip address):554/

Sub stream:
rtsp://(user name):(password)@(ip address):554/h264Preview_(channel number)_sub

Note: The “channel number” starts from 01
example:
1.Preview ipc device video
rtsp://admin:xxxx@192.168.123.145:554/Preview_01_main
2.Preview the video of the third channel of nvr
rtsp://admin:xxxx@192.168.0.206:554/Preview_03_main

2.7.2 rtmp mode preview
The rtmp port is closed by default, so before using the rtmp protocol,
you need to go to Settings -> Network Settings -> Advanced Settings ->
Port Settings to open the rtmp port.

The rtmp protocol only supports videos in h264 encoding format, and
videos in h265 encoding format are not supported yet.
1. Main stream url:
rtmp://(ip address)/bcs/channel(channel id)_main.bcs?channel=(channel
id)&stream=0&user=(user name)&password=(user password)

2. Ext stream url:
rtmp://(ip address)/bcs/channel(channel id)_ext.bcs?channel=(channel
id)&stream=0&user=(user name)&password=(user password)

3. Sub stream url:
rtmp://(ip address)/bcs/channel(channel id)_sub.bcs?channel=(channel
id)&stream=1&user=(user name)&password=(user password)
Note: The “channel id” starts from 0
example:

1.Preview ipc device video
rtmp://192.168.123.145/bcs/channel0_main.bcs?channel=0&stream=0&user=admin&p
assword=xxxx
2.Preview the video of the third channel of nvr
rtmp://192.168.0.206/bcs/channel2_main.bcs?channel=2&stream=0&user=admin&pas
sword=000000

2.7.3 flv mode preview
The flv protocol only supports videos in h264 encoding format, and
videos in h265 encoding format are not supported yet.
1. Main stream:
https://(ip address)/flv?port=1935&app=bcs&stream=channel(channel
id)_main.bcs&user=(user name)&password=(user password)

2. Ext stream:
https://(ip address)/flv?port=1935&app=bcs&stream=channel(channel
id)_ext.bcs&user=(user name)&password=(user password)

3. Sub stream:
https://(ip address)/flv?port=1935&app=bcs&stream=channel(channel
id)_sub.bcs&user=(user name)&password=(user password)
Note: The “channel id” starts from 0
example:
1.Preview ipc device video
https://192.168.123.145/flv?port=1935&app=bcs&stream=channel0_main.bcs&user=a
dmin&password=xxxx
2.Preview the video of the third channel of nvr
https://192.168.0.206/flv?port=1935&app=bcs&stream=channel2_main.bcs&user=admi
n&password=xxxx

2.8 Reolink ipc/nvr web reference
The interaction between the reolink ipc/nvr web interface and the device

uses the http/https protocol, but the web also uses a private encryption
protocol (the encryption protocol processing process is more
complicated, so it is not open to the public).
At the same time, it also makes it impossible to use software such as
wareshark to capture and analyze json data information.

In order to solve this problem, the web background adds the printing of
json log information for sending and receiving requests.
If you want to view jason log information, visit https://(camera ip
address)?debug=1 on Google Chrome to enter the web debug mode of
the device, then type F12 on the keyboard to view the background
information. When the web is operating, you can see the web on the
Console->verbose page Sent json data information.

3 Commands
3.1 System
3.1.1 GetAbility


Interface Description

It is used to get system ability of appointed user.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAbility&token=TOKEN

Post Data

Data example
[
{
"cmd":"GetAbility",
"param":{
"User":{
"userName":"admin"
}
}
}
]
Field description
Field
userName

Description
User name, it should be consisted of less than 32
characters, if the user name is NULL, then it would get
current user ability.



Return data description

Return data correctly

M/O
M

Each domain is corresponding to a functional module. The permit field marks
access right, validating in least significant three bits: the most significant bit
indicates execution permission, the first bit indicates revision permission, and the
second bit indicates read/write permission. The ver field indicates the version
number. 0 means the feature is not supported in that version, nonzero means the
feature is supported. Different version numbers indicate those certain functional
modules support different functional options.
[{
"cmd": "GetAbility",
"code": 0,
"value": {
"Ability": {
"3g": {
"permit": 0,
"ver": 0
},
"abilityChn": [{
"aiTrack": {
"permit": 0,
"ver": 0
},
"aiTrackDogCat": {
"permit": 0,
"ver": 0
},
"alarmAudio": {
"permit": 6,
"ver": 1
},
"alarmIoIn": {
"permit": 0,
"ver": 0
},
"alarmIoOut": {
"permit": 0,
"ver": 0
},
"alarmMd": {
"permit": 6,
"ver": 1
},

"alarmRf": {
"permit": 0,
"ver": 0
},
"batAnalysis": {
"permit": 0,
"ver": 0
},
"battery": {
"permit": 0,
"ver": 0
},
"cameraMode": {
"permit": 6,
"ver": 0
},
"disableAutoFocus": {
"permit": 0,
"ver": 0
},
"enc": {
"permit": 6,
"ver": 1
},
"floodLight": {
"permit": 0,
"ver": 0
},
"ftp": {
"permit": 6,
"ver": 6
},
"image": {
"permit": 6,
"ver": 1
},
"indicatorLight": {
"permit": 0,
"ver": 0
},
"isp": {
"permit": 6,
"ver": 1
},

"isp3Dnr": {
"permit": 0,
"ver": 0
},
"ispAntiFlick": {
"permit": 6,
"ver": 1
},
"ispBackLight": {
"permit": 0,
"ver": 0
},
"ispBright": {
"permit": 6,
"ver": 1
},
"ispContrast": {
"permit": 6,
"ver": 1
},
"ispDayNight": {
"permit": 6,
"ver": 1
},
"ispExposureMode": {
"permit": 0,
"ver": 0
},
"ispFlip": {
"permit": 6,
"ver": 1
},
"ispHue": {
"permit": 0,
"ver": 0
},
"ispMirror": {
"permit": 6,
"ver": 1
},
"ispSatruation": {
"permit": 6,
"ver": 1
},

"ispSharpen": {
"permit": 6,
"ver": 1
},
"ispWhiteBalance": {
"permit": 6,
"ver": 0
},
"ledControl": {
"permit": 6,
"ver": 1
},
"live": {
"permit": 4,
"ver": 2
},
"mainEncType": {
"permit": 0,
"ver": 0
},
"mask": {
"permit": 6,
"ver": 1
},
"mdTriggerAudio": {
"permit": 0,
"ver": 0
},
"mdTriggerRecord": {
"permit": 0,
"ver": 0
},
"mdWithPir": {
"permit": 0,
"ver": 0
},
"osd": {
"permit": 6,
"ver": 1
},
"powerLed": {
"permit": 0,
"ver": 0
},

"ptzCtrl": {
"permit": 0,
"ver": 0
},
"ptzDirection": {
"permit": 1,
"ver": 0
},
"ptzPatrol": {
"permit": 0,
"ver": 0
},
"ptzPreset": {
"permit": 0,
"ver": 0
},
"ptzTattern": {
"permit": 0,
"ver": 0
},
"ptzType": {
"permit": 0,
"ver": 0
},
"recCfg": {
"permit": 6,
"ver": 1
},
"recDownload": {
"permit": 6,
"ver": 1
},
"recReplay": {
"permit": 6,
"ver": 1
},
"recSchedule": {
"permit": 6,
"ver": 2
},
"shelterCfg": {
"permit": 6,
"ver": 1
},

"snap": {
"permit": 6,
"ver": 1
},
"supportAi": {
"permit": 6,
"ver": 1
},
"supportAiAnimal": {
"permit": 0,
"ver": 0
},
"supportAiDetectConfig": {
"permit": 6,
"ver": 1
},
"supportAiDogCat": {
"permit": 6,
"ver": 1
},
"supportAiFace": {
"permit": 0,
"ver": 0
},
"supportAiPeople": {
"permit": 6,
"ver": 1
},
"supportAiSensitivity": {
"permit": 6,
"ver": 1
},
"supportAiStayTime": {
"permit": 6,
"ver": 1
},
"supportAiTargetSize": {
"permit": 6,
"ver": 1
},
"supportAiTrackClassify": {
"permit": 0,
"ver": 0
},

"supportAiVehicle": {
"permit": 6,
"ver": 1
},
"supportAoAdjust": {
"permit": 0,
"ver": 1
},
"supportFLBrightness": {
"permit": 6,
"ver": 1
},
"supportFLIntelligent": {
"permit": 6,
"ver": 1
},
"supportFLKeepOn": {
"permit": 0,
"ver": 0
},
"supportFLSchedule": {
"permit": 6,
"ver": 1
},
"supportFLswitch": {
"permit": 6,
"ver": 1
},
"supportGop": {
"permit": 0,
"ver": 1
},
"supportMd": {
"permit": 6,
"ver": 1
},
"supportPtzCalibration": {
"permit": 0,
"ver": 0
},
"supportPtzCheck": {
"permit": 0,
"ver": 0
},

"supportThresholdAdjust": {
"permit": 6,
"ver": 1
},
"supportWhiteDark": {
"permit": 6,
"ver": 1
},
"videoClip": {
"permit": 0,
"ver": 0
},
"waterMark": {
"permit": 6,
"ver": 1
},
"white_balance": {
"permit": 6,
"ver": 0
}

}],
"alarmAudio": {
"permit": 6,
"ver": 1
},
"alarmDisconnet": {
"permit": 6,
"ver": 1
},
"alarmHddErr": {
"permit": 6,
"ver": 1
},
"alarmHddFull": {
"permit": 6,
"ver": 1
},
"alarmIpConflict": {
"permit": 6,
"ver": 1
},
"auth": {
"permit": 6,
"ver": 1

},
"autoMaint": {
"permit": 6,
"ver": 1
},
"cloudStorage": {
"permit": 0,
"ver": 0
},
"customAudio": {
"permit": 1,
"ver": 1
},
"dateFormat": {
"permit": 6,
"ver": 1
},
"ddns": {
"permit": 6,
"ver": 9
},
"ddnsCfg": {
"permit": 6,
"ver": 1
},
"devInfo": {
"permit": 4,
"ver": 1
},
"devName": {
"permit": 6,
"ver": 2
},
"disableAutoFocus": {
"permit": 0,
"ver": 0
},
"disk": {
"permit": 0,
"ver": 0
},
"display": {
"permit": 6,
"ver": 1

},
"email": {
"permit": 6,
"ver": 3
},
"emailInterval": {
"permit": 6,
"ver": 1
},
"emailSchedule": {
"permit": 6,
"ver": 1
},
"exportCfg": {
"permit": 4,
"ver": 0
},
"ftpAutoDir": {
"permit": 6,
"ver": 1
},
"ftpExtStream": {
"permit": 0,
"ver": 0
},
"ftpPic": {
"permit": 0,
"ver": 0
},
"ftpSubStream": {
"permit": 6,
"ver": 1
},
"ftpTest": {
"permit": 6,
"ver": 0
},
"hourFmt": {
"permit": 6,
"ver": 2
},
"http": {
"permit": 6,
"ver": 3

},
"httpFlv": {
"permit": 6,
"ver": 1
},
"https": {
"permit": 6,
"ver": 3
},
"importCfg": {
"permit": 1,
"ver": 0
},
"ipcManager": {
"permit": 6,
"ver": 1
},
"ledControl": {
"permit": 7,
"ver": 1
},
"localLink": {
"permit": 6,
"ver": 1
},
"log": {
"permit": 6,
"ver": 1
},
"mediaPort": {
"permit": 6,
"ver": 1
},
"ntp": {
"permit": 6,
"ver": 1
},
"online": {
"permit": 6,
"ver": 1
},
"onvif": {
"permit": 6,
"ver": 3

},
"p2p": {
"permit": 6,
"ver": 1
},
"performance": {
"permit": 4,
"ver": 1
},
"pppoe": {
"permit": 6,
"ver": 0
},
"push": {
"permit": 6,
"ver": 1
},
"pushSchedule": {
"permit": 6,
"ver": 1
},
"reboot": {
"permit": 1,
"ver": 1
},
"recExtensionTimeList": {
"permit": 6,
"ver": 1
},
"recOverWrite": {
"permit": 6,
"ver": 1
},
"recPackDuration": {
"permit": 6,
"ver": 0
},
"recPreRecord": {
"permit": 6,
"ver": 1
},
"restore": {
"permit": 1,
"ver": 1

},
"rtmp": {
"permit": 6,
"ver": 3
},
"rtsp": {
"permit": 6,
"ver": 3
},
"scheduleVersion": {
"permit": 6,
"ver": 1
},
"sdCard": {
"permit": 6,
"ver": 1
},
"showQrCode": {
"permit": 6,
"ver": 0
},
"simMoudule": {
"permit": 6,
"ver": 0
},
"supportAudioAlarm": {
"permit": 6,
"ver": 1
},
"supportAudioAlarmEnable": {
"permit": 6,
"ver": 1
},
"supportAudioAlarmSchedule": {
"permit": 6,
"ver": 1
},
"supportAudioAlarmTaskEnable": {
"permit": 6,
"ver": 1
},
"supportBuzzer": {
"permit": 0,
"ver": 0

},
"supportBuzzerEnable": {
"permit": 0,
"ver": 0
},
"supportBuzzerTask": {
"permit": 0,
"ver": 0
},
"supportBuzzerTaskEnable": {
"permit": 0,
"ver": 0
},
"supportEmailEnable": {
"permit": 6,
"ver": 1
},
"supportEmailTaskEnable": {
"permit": 6,
"ver": 1
},
"supportFtpCoverPicture": {
"permit": 6,
"ver": 1
},
"supportFtpCoverVideo": {
"permit": 6,
"ver": 1
},
"supportFtpDirYM": {
"permit": 6,
"ver": 1
},
"supportFtpEnable": {
"permit": 6,
"ver": 1
},
"supportFtpPicCaptureMode": {
"permit": 6,
"ver": 1
},
"supportFtpPicResoCustom": {
"permit": 6,
"ver": 0

},
"supportFtpPictureSwap": {
"permit": 6,
"ver": 1
},
"supportFtpTask": {
"permit": 6,
"ver": 1
},
"supportFtpTaskEnable": {
"permit": 6,
"ver": 1
},
"supportFtpVideoSwap": {
"permit": 6,
"ver": 1
},
"supportFtpsEncrypt": {
"permit": 6,
"ver": 1
},
"supportHttpEnable": {
"permit": 6,
"ver": 1
},
"supportHttpsEnable": {
"permit": 6,
"ver": 1
},
"supportOnvifEnable": {
"permit": 6,
"ver": 1
},
"supportPushInterval": {
"permit": 6,
"ver": 1
},
"supportRecScheduleEnable": {
"permit": 6,
"ver": 1
},
"supportRecordEnable": {
"permit": 6,
"ver": 1

},
"supportRtmpEnable": {
"permit": 6,
"ver": 1
},
"supportRtspEnable": {
"permit": 6,
"ver": 1
},
"talk": {
"permit": 4,
"ver": 1
},
"time": {
"permit": 6,
"ver": 2
},
"tvSystem": {
"permit": 6,
"ver": 0
},
"upgrade": {
"permit": 1,
"ver": 2
},
"upnp": {
"permit": 6,
"ver": 1
},
"user": {
"permit": 6,
"ver": 1
},
"videoClip": {
"permit": 0,
"ver": 0
},
"wifi": {
"permit": 0,
"ver": 0
},
"wifiTest": {
"permit": 6,
"ver": 0

}]

}

}

}

Field description
Field

ver

permit

abilityChn-> mask

0: not support, 1:support

1:option

Whether privacy zone

2:write

configuration is supported

4: read

0: not support, 1:support

7: read &

Whether video parameter

write &

configuration is supported

option

abilityChn->image

abilityChn->isp

0: not support, 1:support
Whether ISP parameter
configuration is supported

abilityChn->white_balance

0: not support, 1:support
Whether white balance is
supported

abilityChn->cameraMode

0: not support, 1:support
Whether analog camera mode
switching is supported

abilityChn->osd

0: not support, 1:support, 2:
support osd and distinct osd

abilityChn->waterMark

0: not support, 1:support
Whether watermark Settings are
supported

abilityChn->enc

0: not support set encode cfg,
1:support set encode cfg

abilityChn->live

0: not support 1:support
main/extern/sub stream;
2:support main/sub stream

abilityChn->snap

0: not support snap, 1:support
snap

abilityChn->ftp

0: not support ftp; ver>0:support
ftp
(1: support stream
2: support jpg picture + stream
3: support Stream + mode
selection
4: support jpg picture + stream +
mode selection
5: support Stream + mode
selection + stream type selection
6: support jpg picture + stream +
mode selection + stream type
selection)

abilityChn->recCfg

0: not support, 1:support
Supports video configuration
(package time, preview, video
delay, video coverage)

abilityChn->recSchedule

0: not support,
1:support md record,
2:support md record and normal
record

abilityChn->recDownload

0: not support download record
file, 1:support download record
file

abilityChn->recReplay

0: not support playback record
file online, 1:support playback
record file online file

abilityChn->ptzType

0: Does not support PTZ or does

not have permission to operate
1:support AF
2: support PTZ
3: support PT
4: Simulated ball machine
5: PTZ (GM8136S PTZ) does not
support speed adjustment
abilityChn->ptzCtrl

0:not support,
1: support control zoom
2: support control zoom and focus
with slider

abilityChn->ptzPreset

0:not support,
1: support
Whether PTZ preset points are
supported

abilityChn->ptzPatrol

0:not support,
1: support
Whether PTZ cruising is
supported

abilityChn->ptzTattern

0:not support,
1: support
Whether the PTZ trajectory
setting is supported

abilityChn->ptzDirection

0: support 8 directions + auto
scan, 1: support only 4 directions,
no auto scan

abilityChn->alarmIoIn

0:not support,
1: support
Whether IO alarm input is
supported

abilityChn->alarmIoOut

0:not support,
1: support
Whether IO alarm output is
supported

abilityChn->alarmRf

0:not support,
1: support Rf alarm on DVR
2:Battery ipc
3:Add the ALARM/MD schedule
option

abilityChn->alarmMd

0:not support,
1: support
Whether movement detection
alarms are supported

abilityChn->disableAutoFocus

0:not support set auto fucus,
1: support set auto fucus

abilityChn->floodLight

0:not support White light LED,
1: support White light LED

abilityChn->battery

0:not support,
1: support

abilityChn->indicatorLight

0:not support indicator Light,
1: support indicator Light

abilityChn->videoClip

0:not support video Cutout
1: support cutout width and
height cannot be modified;
2: support cutout width and
height can be modified

abilityChn->powerLed

0:not support,
1: support

abilityChn->mainEncType

0: main stream enc type is H264
1:main stream enc type is H265

abilityChn->ispDayNight

0:not support day_night mode
1:support day_night mode
2: Support day and night mode
and support setting switching
threshold

abilityChn->ispAntiFlick

0:not support
1:support
Whether anti-flicker function is
supporte

abilityChn->ispExposureMode

0:not support
1:support
Whether exposure is supported

abilityChn->ispWhiteBalance

0:not support
1:support

abilityChn->ispBackLight

0:not support
1:support

abilityChn->isp3Dnr

0:not support
1:support

abilityChn->ispMirror

0:not support
1:support

abilityChn->ispFlip

0:not support
1:support

abilityChn->ispBright

0:not support
1:support

abilityChn->ispContrast

0:not support
1:support

abilityChn->ispSatruation

0:not support
1:support

abilityChn->ispHue

0:not support
1:support

abilityChn->ispSharpen

0:not support
1:support

abilityChn->floodLight

0:not support
1: Support white light, 2: Support
white light automatic mode

abilityChn->mdWithPir

0:not support
1:support

abilityChn->mdTriggerAudio

0:not support
1:support

abilityChn->mdTriggerRecord

0:not support
1:support

abilityChn->shelterCfg

0:not support
1:support

abilityChn->alarmAudio

0:not support
1:support

abilityChn->batAnalysis

0:not support
1:support

abilityChn->waterMark

0:not support
1:support

abilityChn->ledControl

0:not support
1:support

abilityChn->supportPtzCheck

0:not support
1:support

hourFmt

0:not support
1: support change hour formate

time

0:not support
1: Daylight saving time only
supports Sunday;
2: Supports any day of the week

tvSystem

0:not support
1:support

display

0:not support
1:support

ipcManager

0:not support
1:support

devInfo

0:not support
1:support

autoMaint

0:not support
1:support

restore

0:not support
1:support

reboot

0:not support
1:support

log

0:not support
1:support

performance

0:not support
1:support

upgrade

0:not support
1:support manual upgrade
2: support manual upgrade and
upgrade online

importCfg

0:not support
1:support

exportCfg

0:not support
1:support

disk

0:not support
1:support

sdCard

0:not support
1:support

devName

0:not support
1:support

auth

0:not support
1:support

user

0:not support
1:support

online

0:not support
1:support

rtsp

0:not support
1:support

rtmp

0:not support
1:support

ddns

0:not support
1:swan
2:3322
3:dyndns
4:swann+3322
5:swann+dyndns
6:3322+dyndns
7:swann+3332+dyndns
8:noip
9:dyndns+noip

ddnsCfg

0: Does not support entering
ddns server address
1: Support input ddns server
address

email

0: Mail function is not supported
1: Support jpg attachment
2: Support video and jpg
attachments

3: Support video and jpg
attachments, support sender
nickname
emailSchedule

0: Schedule is not supported
1: Support schedule

upnp

0:not support
1:support

onvif

0:not support
1:support

ntp

0:not support
1:support

mediaPort

0:not support
1:support

http

0:not support
1:support

https

0:not support
1:support

httpFlv

0:not support
1:support

p2p

0:not support
1:support

3g

0:not support
1:support

localLink

0:not support
1:support

pppoe

0:not support
1:support

Wifi

0:not support
1:support

Push

0:not support
1:support

pushSchedule

0:not support
1:support

Talk

0:not support
1:support

alarmHddErr

0:not support
1:support

alarmHddFull

0:not support
1:support

alarmDisconnet

0:not support
1:support

alarmIpConflict

0:not support
1:support

ledControl

0:not support
1:support

disableAutoFocus

0:not support
1:support

videoClip

1: Cutout width and height
cannot be modified;
2: Cutout width and height can be
modified

alarmAudio

0:not support
1:support

cloudStorage

bit0: Whether to support cloud
upload
bit1: Whether to support cloud
service configuration
bit3: Whether to support cloud
upload deployment

scheduleVersion

0: support cmd:
“GetRec” ,“SetRec”,” GetEmail”,”
SetEmail”,” GetFtp”, “SetFtp”,
“GetPush”, “SetPush”,
“GetAudioAlarm”,
“SetAudioAlarm”,
“GetCloudSchedule”,“SetCloudSch
edule”,“GetAlarm”,“SetAlarm”
1: support cmd:
“GetRecV20” ,“SetRecV20”,”
GetEmailV20”,” SetEmailV20”,”
GetFtpV20”, “SetFtpV20”,
“GetPushV20”, “SetPushV20”,
“GetAudioAlarmV20”,
“SetAudioAlarmV20”,
“GetCloudScheduleV20”,
“SetCloudScheduleV20”;
“GetMdAlarm”
“SetMdAlarm”

customAudio

0:not support
1:support

wifiTest

0:not support
1:support

simMoudule

0:not support
1:support

dateFormat

0:not support
1:support

emailInterval

0:not support
1:support

showQrCode

0:not support
1:support

ftpTest

0:not support
1:support

ftpSubStream

0:not support
1:support

ftpExtStream

0:not support
1:support

ftpPic

0:not support
1:support

ftpAutoDir

0:not support
1:support

recOverWrite

0:not support
1:support

recPackDuration

0:not support
1:support

recPreRecord

0:not support
1:support

recExtensionTimeList

0:not support
1:support

supportAudioAlarm

0:not support
1:support

supportAudioAlarmEnable

0:not support
1:support

supportAudioAlarmSchedule

0:not support
1:support

supportAudioAlarmTaskEnable

0:not support
1:support

supportFtpTask

0:not support
1:support

supportBuzzer

0:not support
1:support

supportBuzzerEnable

0:not support
1:support

supportBuzzerTask

0:not support
1:support

supportBuzzerTaskEnable

0:not support
1:support

supportRecordEnable

0:not support
1:support

supportRecScheduleEnable

0:not support
1:support

supportEmailEnable

0:not support
1:support

supportEmailTaskEnable

0:not support
1:support

supportFtpEnable

0:not support
1:support

supportFtpTaskEnable

0:not support
1:support

supportAi

0:not support
1:support

supportAiAnimal

0:not support
1:support

supportAiDetectConfig

0:not support
1:support

supportAiDogCat

0:not support
1:support

supportAiFace

0:not support
1:support

supportAiPeople

0:not support
1:support

supportAiSensitivity

0:not support
1:support

supportAiStayTime

0:not support
1:support

supportAiTargetSize

0:not support
1:support

supportAiVehicle

0:not support
1:support

supportAoAdjust

0:not support
1:support

supportFLBrightness

0:not support
1:support

supportFLIntelligent

0:not support
1:support

supportFLKeepOn

0:not support
1:support

supportFLSchedule

0:not support
1:support

supportFLswitch

0:not support
1:support

supportGop

0:not support
1:support

supportPtzCheck

0:not support
1:support

supportThresholdAdjust

0:not support
1:support

supportWhiteDark

0:not support
1:support

supportAudioAlarm

0:not support
1:support

supportAudioAlarmEnable

0:not support
1:support

supportAudioAlarmSchedule

0:not support
1:support

supportAudioAlarmTaskEnable

0:not support
1:support

supportBuzzer

0:not support
1:support

supportBuzzerEnable

0:not support
1:support

supportBuzzerTask

0:not support
1:support

supportBuzzerTaskEnable

0:not support
1:support

supportEmailEnable

0:not support
1:support

supportEmailTaskEnable

0:not support
1:support

supportFtpCoverPicture

0:not support
1:support

supportFtpCoverVideo

0:not support
1:support

supportFtpDirYM

0:not support
1:support

supportFtpPicCaptureMode

0:not support
1:support

supportFtpPicResoCustom

0:not support
1:support

supportFtpPictureSwap

0:not support
1:support

supportFtpTask

0:not support
1:support

supportFtpTaskEnable

0:not support
1:support

supportFtpVideoSwap

0:not support
1:support

supportFtpsEncrypt

0:not support
1:support

supportHttpEnable

0:not support
1:support

supportHttpsEnable

0:not support
1:support

supportOnvifEnable

0:not support
1:support

supportPushInterval

0:not support
1:support

supportRecScheduleEnable

0:not support
1:support

supportRecordEnable

0:not support
1:support

supportRtmpEnable

0:not support
1:support

supportRtspEnable

0:not support
1:support

supportAutoTrackStream

0:not support
1:support
Whether the tracking stream
configuration is supported

supportBinoStitch

0:not support
1:support
Whether the adjustment of
binocular equipment splicing
picture is supported

aiTrackDogCat

Whether tracking of cats and
dogs is supported

3.1.2 GetDevInfo


Interface Description

It is used to get device information.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetDevInfo&token=TOKEN

Post Data

Data example
[
{
"cmd":"GetDevInfo"
}
]
Field description
Field


Description

Return data description

Return data correctly
[

M/O

{

]

}

"cmd" : "GetDevInfo",
"code" : 0,
"value" : {
"DevInfo" : {
"B485" : 1,
"IOInputNum" : 0,
"IOOutputNum" : 0,
"audioNum" : 16,
"buildDay" : "build 20080734",
"cfgVer" : "v3.0.0.0",
"channelNum" : 16,
"detail" : "NVR652410104001000200000",
"diskNum" : 2,
"exactType" : "NVR",
"firmVer" : "v3.0.0.59_20080734",
"frameworkVer" : 1,
"hardVer" : "H3MB18",
"model" : "RLN16-410",
"name" : "NVR",
"pakSuffix" : "pak,paks",
"serial" : "00000000000000",
"type" : "NVR",
"wifi" : 0
}
}

Field description
Field

Description

IOInputNum

The number of IO input port.

IOOutputNum

The number of IO output port.

buildDay

The establish date.

cfgVer

The version number of configuration information.

channelNum

The channel number.

detail

The details of device information.

diskNum

The number of USB disk or SD card.

firmVer

The version number of the firmware.

hardVer

The version number of the hardware.

name

Device name.

type

Device type.

wifi

Whether Wi-Fi is supported.

B485

0: no 485, 1 :have 485

exactType

Product type

frameworkVer

Architecture version

3.1.3 GetDevName



Interface Description

It is used to get configuration of DevName.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetDevName&token=TOKEN

Post Data

Data example
[{
"cmd": "GetDevName",
"param": {
"channel":0
}
}]
Field description
Field

Description

channel

Index of channel



Return data description

M/O
M

Return data correctly
[

]

{

}

"cmd" : "GetDevName",
"code" : 0,
"value" : {
"DevName" : {
"name" : "NVR"
}
}

Field description
Field

description

name

name of device

3.1.4 SetDevName



Interface Description

It is used to set configuration of DevName.


Interface Call Instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetDevName&token=TOKEN

Post Data

Data example
[{
"cmd": "SetDevName",
"param": {
"DevName": {
"name": "camera101"
}

}
}]
Field description
Field

Description

channel

Index of channel



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetDevName",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.1.5 GetTime


Interface Description

It is used to get time from device.


Interface Call Instructions

Request URL


Post Data

https://IPC_IP/api.cgi?cmd=GetTime&token=TOKEN

M/O
M

Data example
[
{
"cmd":"GetTime",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetTime",
"code" : 0,
"initial" : {
"Dst" : {
"enable" : 0,
"endHour" : 2,
"endMin" : 0,
"endMon" : 10,
"endSec" : 0,
"endWeek" : 5,
"endWeekday" : 0,
"offset" : 1,
"startHour" : 2,
"startMin" : 0,
"startMon" : 3,
"startSec" : 0,
"startWeek" : 2,
"startWeekday" : 0
},
"Time" : {
"day" : 1,
"hour" : 0,
"hourFmt" : 0,
"min" : 0,
"mon" : 0,

M/O

"sec" : 0,
"timeFmt" : "DD/MM/YYYY",
"timeZone" : 28800,
"year" : 0，
"hourFmt" : 0
}
},
"range" : {
"Dst" : {
"enable" : "boolean",
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"endMon" : {
"max" : 12,
"min" : 1
},
"endSec" : {
"max" : 59,
"min" : 0
},
"endWeek" : {
"max" : 5,
"min" : 1
},
"endWeekday" : {
"max" : 6,
"min" : 0
},
"offset" : {
"max" : 2,
"min" : 1
},
"startHour" : {
"max" : 23,
"min" : 0
},
"startMin" : {
"max" : 59,

"min" : 0

},
"startMon" : {
"max" : 12,
"min" : 1
},
"startSec" : {
"max" : 59,
"min" : 0
},
"startWeek" : {
"max" : 5,
"min" : 1
},
"startWeekday" : {
"max" : 6,
"min" : 0
}

},
"Time" : {
"day" : {
"max" : 31,
"min" : 1
},
"hour" : {
"max" : 23,
"min" : 0
},
"hourFmt" : {
"max" : 1,
"min" : 0
},
"min" : {
"max" : 59,
"min" : 0
},
"mon" : {
"max" : 12,
"min" : 1
},
"sec" : {
"max" : 59,
"min" : 0
},

"timeFmt" : [ "MM/DD/YYYY", "YYYY/MM/DD",

"DD/MM/YYYY" ],

}

"timeZone" : {
"max" : 43200,
"min" : -46800
},
"year" : {
"max" : 2100,
"min" : 1900
}

},
"value" : {
"Dst" : {
"enable" : 0,
"endHour" : 2,
"endMin" : 0,
"endMon" : 10,
"endSec" : 0,
"endWeek" : 5,
"endWeekday" : 0,
"offset" : 1,
"startHour" : 2,
"startMin" : 0,
"startMon" : 3,
"startSec" : 0,
"startWeek" : 2,
"startWeekday" : 0
},
"Time" : {
"day" : 23,
"hour" : 20,
"hourFmt" : 0,
"min" : 59,
"mon" : 12,
"sec" : 40,
"timeFmt" : "DD/MM/YYYY",
"timeZone" : 28800,
"year" : 2020,
"hourFmt" : 0
}
}
}
]

Field description
Field

description

Dst

Daylight Savings Time

enable

Enable Daylight Savings Time

endHour

The end of Daylight Savings Time(Hour)

endMin

The end of Daylight Savings Time(Minute)

endMon

The end of Daylight Savings Time(Month)

endSec

The end of Daylight Savings Time(Second)

endWeek

The end of Daylight Savings Time(Week)

endWeekday

The end of Daylight Savings Time(Day)

offset

Time offset

startHour

Daylight Savings Time starting time(Hour)

startMin

Daylight Savings Time starting time(Minute)

startMon

Daylight Savings Time starting time(Month)

startSec

Daylight Savings Time starting time(Second)

startWeek

Daylight Savings Time starting time(Week)

startWeekday

Daylight Savings Time starting time(Day)

Time

System time

year

Year

mon

Month

day

Day

hour

Hour

min

Minute

sec

Second

timeFmt

Time format

timeZone

Time zone

hourFmt

Hour format,0 is for 24 hour clock，1 is for 12 hour clock

3.1.6 SetTime


Interface Description

It is used to set time of the device.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetTime&token=TOKEN

Post Data

Data example
[
{
"cmd":"SetTime",
"param" : {
"Dst" : {
"enable" : 0,
"endHour" : 2,
"endMin" : 0,
"endMon" : 10,
"endSec" : 0,
"endWeek" : 5,
"endWeekday" : 0,
"offset" : 1,
"startHour" : 2,
"startMin" : 0,
"startMon" : 3,
"startSec" : 0,
"startWeek" : 2,
"startWeekday" : 0
},
"Time" : {
"day" : 6,
"hour" : 20,
"min" : 9,
"mon" : 6,
"sec" : 32,
"timeFmt" : "DD/MM/YYYY",
"timeZone" : -28800,
"year" : 2016,

]

}

}

}

"hourFmt" : 0

Field description
Field

Description

M/O

Dst

See also GetTime

O

enable

See also GetTime

O

endHour

See also GetTime

O

endMin

See also GetTime

O

endMon

See also GetTime

O

endSec

See also GetTime

O

endWeek

See also GetTime

O

endWeekday

See also GetTime

O

offset

See also GetTime

O

startHour

See also GetTime

O

startMin

See also GetTime

O

startMon

See also GetTime

O

startSec

See also GetTime

O

startWeek

See also GetTime

O

startWeekday

See also GetTime

O

year

See also GetTime

O

mon

See also GetTime

O

day

See also GetTime

O

hour

See also GetTime

O

min

See also GetTime

O

sec

See also GetTime

O

timeFmt

See also GetTime

O

timeZone

See also GetTime

O

hourFmt

See also GetTime

O



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetTime",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.1.7 GetAutoMaint


Interface Description

It is used to get device automatic maintenance information.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAutoMaint&token=TOKEN

Post Data

Data example
[
{
"cmd":"GetAutoMaint",
"action":1
}
]
Field description
Field

Description

M/O



Return data description

Return data correctly
[

{
{

[
"cmd" : "GetAutoMaint",
"code" : 0,
"initial" : {
"AutoMaint" : {
"enable" : 0,
"hour" : 0,
"min" : 0,
"sec" : 0,
"weekDay" : "Sunday"
}
},
"range" : {
"AutoMaint" : {
"enable" : "boolean",
"hour" : {
"max" : 23,
"min" : 0
},
"min" : {
"max" : 59,
"min" : 0
},
"sec" : {
"max" : 59,
"min" : 0
},
"weekDay" : [
"Everyday",
"Sunday",
"Monday",
"Tuesday",
"Wednesday",
"Thursday",
"Friday",
"Saturday"

]

]

}

}
},
"value" : {
"AutoMaint" : {
"enable" : 1,
"hour" : 2,
"min" : 0,
"sec" : 0,
"weekDay" : "Sunday"
}
}

Field description
Field

description

enable

Auto maintainance of enable/disable switch

hour

Hour

min

Minute

sec

Second

weekDay

The day of the week

3.1.8 SetAutoMaint


Interface Description

It is used to set device automatic maintenance information.


Interface call instructions

Request URL


Post Data

Data example
[

https://IPC_IP/api.cgi?cmd=SetAutoMaint&token=TOKEN

{

]

"cmd":"SetAutoMaint",
"param":{
"AutoMaint":{
"enable":1,
"weekDay":"Everyday",
"hour":3,
"min":52,
"sec":4
}
}

}

Field description
Field

Description

enable

See also GetAutoMaint

O

hour

See also GetAutoMaint

O

min

See also GetAutoMaint

O

sec

See also GetAutoMaint

O

weekDay

See also GetAutoMaint

O



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetAutoMaint",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

M/O

3.1.9 GetHddInfo


Interface Description

It is used to get hard disks or sd-Card information of device.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetHddInfo&token=TOKEN

Post Data

Data example
[
{
"cmd":"GetHddInfo"
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetHddInfo",
"code" : 0,
"value" : {
"HddInfo" : [
{
"capacity" : 938610,
"format" : 1,
"mount" : 1,
"number" : 1,
"size" : 549219,
"storageType" : 1
}
]

M/O

]

}

}

Field description
Field

description

capacity

The capacity of HDD or SD card(Mb)

format

Whether it is formatted or not

id

Index for HDD or SD card

mount

Whether it is mounted or not

size

The remaining capacity (Mb)

storageType

Type of storage

number

External SATA interface

3.1.10 Format


Interface Description

It is used to format hard disks or SD-Card.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=Format&token=TOKEN

Post Data

Data example
[{
"cmd": "Format",
"param": {
"HddInfo": {
"id": [0]
}
}
}]

Field description
Field

Description
id

M/O

Index of the hard disk or sd-Card that you want to

M

format.


Return data description

Return data correctly
[

]

{

}

"cmd" : "Format",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.1.11 Upgrade


Interface Description

It is used to upgrade the firmware of the device. Must send cmd UpgradePrepare first


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd=Upgrade&clearConfig=%d&token
=TOKEN



Request parameter description
Parameter
clearConfig

M/O
M

Description
Whether to clear the configuration mark



Post Data

Data example
Content-Type: multipart/form-data;
boundary=----WebKitFormBoundaryYkwJBwvTHAd3Nukl
Referer: https://192.168.2.232/?1466148584152
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.8
------WebKitFormBoundaryYkwJBwvTHAd3Nukl
Content-Disposition: form-data; name="upgrade-package"; filename="xxx.pak"
Content-Type: application/octet-stream
xxxxxxxxxxx......(File content)
------WebKitFormBoundaryYkwJBwvTHAd3Nukl--

Note: This command can only carry up to 40K packets at a time, and it needs to be
called several times to complete the device update

Field description
Field

Description

boundary

Delimiter

M

filename

The name of the update file

M

name

Bound to be "upgrade-package"

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "Upgrade",
"code" : 0,
"value" : {
"rspCode" : 200
}

M/O

Field description
Field

description

3.1.12 Restore


Interface Description

It is used to reset all configurations of the device to the factory default.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=Restore&token=TOKEN

Post Data

Data example
[
{
"cmd":"Restore"
}
]
Field description
Field


Description

Return data description

Return data correctly
[

]

{

}

"cmd" : "Restore",
"code" : 0,
"value" : {
"rspCode" : 200
}

M/O

Field description
Field

description

3.1.13 Reboot


Interface Description

It is used to reboot the device.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=Reboot&token=TOKEN

Post Data

Data example
[
{
"cmd":"Reboot"
}
]
Field description
Field


Description

Return data description

Return data correctly
[

]

{

}

"cmd" : "Reboot",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description

M/O

Field

description

3.1.14 UpgradePrepare


Interface Description

It is used to check that the upgrade file is legal or not. Combined use with cmd upgrade


Interface call instructions

Request URL


https://IPC_IP/ api.cgi?cmd=UpgradePrepare&token=TOKEN

Post Data

Data example
[
{
"cmd":"UpgradePrepare",
"action":1,
"param":
{
"restoreCfg":0,
"fileName":"XXX.pak"
}
}
]
Field description
Field

Description

M/O

restoreCfg

Whether to clear the configuration mark

M

fileName

The file name of the upgrade file

M



Return data description

Return data correctly
[

{

]

}

"cmd" : " UpgratePrepare ",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.1.15 GetAutoUpgrade


Interface Description

It is used to get device automatic upgrade information.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= GetAutoUpgrade&token=TOKEN

POST Data

Data example
[
{
"cmd":" GetAutoUpgrade"
}
]
Field description
Field

Description

M/O
M



Return data description

Return data correctly

[

]

{

}

"cmd" : "GetAutoUpgrade",
"code" : 0,
"initial" : {
"AutoUpgrade" : {
"enable" : 1
}
},
"range" : {
"AutoUpgrade" : {
"enable" : "boolean"
}
},
"value" : {
"AutoUpgrade" : {
"enable" : 1
}
}

Field description
Field

description

rspCode

Response code

3.1.16 SetAutoUpgrade


Interface Description

It is used to set device automatic upgrade information.


Interface call instructions

Request URL


POST Data

Data example

https://IPC_IP/api.cgi?cmd= SetAutoUpgrade &token=TOKEN

[

{

"cmd": "SetAutoUpgrade",
"param": {
"AutoUpgrade": {
"enable": 0
}
}

}

]

Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

]

{

}

"cmd" : " SetAutoUpgrade ",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.1.17 CheckFirmware


Interface Description

It is used to check for new upgrade file of online upgrades


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= CheckFirmware&token=TOKEN

POST Data

Data example
[
{
"cmd":" CheckFirmware"
}
]
Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

]

{

}

"cmd" : " CheckFirmware",
"code" : 0,
"value" : {
"newFirmware" : 00
}

Field description
Field

description

rspCode

Response code

newFirmware

New firmware

3.1.18 UpgradeOnline


Interface Description

It is used to startonline upgrade when check for a new version


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= UpgradeOnline &token=TOKEN

POST Data

Data example
[
{
"cmd":" UpgradeOnline ",
}
]
Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

]

{

}

"cmd" : " UpgradeOnline ",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.1.19 UpgradeStatus


Interface Description

It is used to Check file download progress during online upgrade


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= UpgradeStatus &token=TOKEN

POST Data

Data example
[
{
"cmd":" UpgradeStatus "
}
]
Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

]

{

}

"cmd" : "UpgradeStatus",
"code" : 0,
"value" : {
"Status" : {
"Persent" : 0,
"code" : 0
}
}

Field description
Field

description

rspCode

Response code

3.1.20 Getchannelstatus



Interface Description

It is used to get configuration of channelstatus.


Interface call instructions

Request URL


https://NVR_IP/api.cgi?cmd=Getchannelstatus&token=TOKEN

Post Data

Data example
[{
"cmd": "Getchannelstatus"
}]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetChannelstatus",
"code" : 0,
"value" : {
"count" : 16,
"status" : [
{
"channel" : 0,
"name" : "E1 X",
"online" : 1,
"typeInfo" : "E1 X"
},
{
"channel" : 1,
"name" : "",

M/O

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"online" : 0,
"typeInfo" : ""

"channel" : 2,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 3,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 4,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 5,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 6,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 7,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 8,
"name" : "",
"online" : 0,
"typeInfo" : ""

},
{

},
{

},
{

},
{

},
{

},
{

},
{

]

}

"channel" : 9,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 10,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 11,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 12,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 13,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 14,
"name" : "",
"online" : 0,
"typeInfo" : ""

"channel" : 15,
"name" : "",
"online" : 0,
"typeInfo" : ""

]

}

}

Field description
Field

description

channel

Channel number

name

Device name

online

Whether online or not

typeinfo

Infomation of type

3.2 Security
3.2.1 Login


Interface Description

It is used to get Token.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=Login

POST Data

Data example
[{
"cmd": "Login",
"param": {
"User": {
"Version": "0",
"userName": "admin",
"password": "111111"
}
}
}]]

Field description
Field

Description

M/O

userName

Account name, limit 1~31 characters.

M

password

Account password, limit 1~31 characters.

O

Version

Login version

O

0: Do not apply private encryption protocol
1: Apply a private encryption protocol
The private encryption protocol is not provided externally, so
please select 0



Return data description

Return data correctly
[

]

{

}

"cmd" : "Login",
"code" : 0,
"value" : {
"Token" : {
"leaseTime" : 3600,
"name" : "031465962723"
}
}

Field description
Field

description

leaseTime

Lease time by second.

name

Token string, length should be less than 32 characters.

3.2.2 Logout


Interface Description

It is used to release Token.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=Logout&token=TOKEN

POST Data

Data example
[
{
"cmd":"Logout",
"param":{
}
}
]
Field description
Field


Description

Return data description

Return data correctly
[

]

{

}

"cmd" : "Logout",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

M/O

3.2.3 GetUser


Interface Description

It is used to get all users' infomation.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetUser&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetUser",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetUser",
"code" : 0,
"initial" : {
"User" : {
"level" : "guest"
}
},
"range" : {
"User" : {
"level" : [ "guest", "admin" ],
"password" : {
"maxLen" : 31,

M/O

"minLen" : 6

}

]

}

},
"userName" : {
"maxLen" : 31,
"minLen" : 1
}

},
"value" : {
"User" : [
{
"level" : "admin",
"userName" : "admin"
}
]
}

Field description
Field

description

level

User competence

userName

User name

maxlen

Max length

minlen

Min length

3.2.4 AddUser


Interface Description

It is used to set configuration of user.


Interface call instructions

Request URL


POST Data

https://IPC_IP/api.cgi?cmd=AddUser&token=TOKEN

Data example
[
{
"cmd":"AddUser",
"param":{
"User":{
"userName":"GuestUser",
"password":"123456",
"level":"guest"
}
}
}
]
Field description
Field

Description

M/O

userName

Account name.

M

password

Account password.

M

level

User competence

M

Note : Can add up to 20 users


Return data description

Return data correctly
[

]

{

}

"cmd" : "AddUser",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.2.5 DelUser


Interface Description

It is used to del configuration of user.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=DelUser&token=TOKEN

POST Data

Data example
[
{
"cmd":"DelUser",
"param":{
"User":{
"userName":"TestUser"
}
}
}
]
Field description
Field

Description

M/O

userName

Account name,limit 1~31 characters.

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "DelUser",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.2.6 ModifyUser


Interface Description

It is used to modify configuration of user.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=ModifyUser&token=TOKEN

POST Data

Data example
[{
"cmd": "ModifyUser",
"action": 0,
"param": {
"User": {
"userName": "admin",
"newPassword": "111111",
"oldPassword": "000000"
}
}
}]
Field description
Field

Description

M/O

userName

Account name.

M

newPassword

Account new password.

M

oldPassword

Account old password.



Return data description

Return data correctly
[

]

{

"cmd" : "ModifyUser",
"code" : 0,
"value" : {
"rspCode" : 200
}

}

Field description
Field

description

rspCode

Response code

3.2.7 GetOnline


Interface Description

It is used to get all onlusers' infomation.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetOnline&token=TOKEN

Return data description

Return data correctly
[

{

"cmd":"GetOnline",
"code":0,
"value":{
"User":[
{
"canbeDisconn":0,
"ip":"192.168.2.166",
"level":"admin",
"sessionId":1000,

"userName":"admin"

}

]

}

]

},
... // There may be multiple online users.

Field description
Field

description

canbeDisconn

When the field value is 1, the online user can be forced to
disconnect.When the value is 0, the reverse is the case.

ip

The IP address of the online user.

level

User competence for online users

sessionId

Session id distributed to online users by the system, it is
used to force the user to go offline.

userName

The online user’s login account.

3.2.8 Disconnect


Interface Description

It is used to disconnect configuration of user.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=Disconnect&token=TOKEN

POST Data

Data example
[{
"cmd": "Disconnect",
"param": {
"User": {
"userName": "userName",
"sessionId": 1001

}]

}

}

Field description
Field

Description

M/O

userName

The online user’s login account.

M

sessionId

The session ID which System assigned to the online user.

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "Disconnect",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.2.9 GetSysCfg



Interface Description

It is used to get the login lock time.


Interface call instructions

Request URL


Post Data

https://IPC_IP/api.cgi?cmd=GetSysCfg&token=TOKEN

Data example
[{
"cmd": "GetSysCfg",
"action": 1,
"param": {
"channel": 0
}
}]
Field description
Field

Description

channel

Device channel number



Return data description

Return data correctly
[

{

"cmd" : "GetSysCfg",
"code" : 0,
"initial" : {
"SysCfg" : {
"LockTime" : 300,
"allowedTimes" : 5,
"loginLock" : 0
}
},
"range" : {
"SysCfg" : {
"LockTime" : {
"max" : 300,
"min" : 0
},
"allowedTimes" : {
"max" : 5,
"min" : 0
},
"loginLock" : "boolean"
}
},

M/O

]

}

"value" : {
"SysCfg" : {
"LockTime" : 300,
"allowedTimes" : 5,
"loginLock" : 0
}
}

Field description
Field

description

LockTime

Login lock time

allowedTimes

Maximum number of allowed attempts

loginLock

Login lock switch

3.2.10 SetSysCfg



Interface Description

It is used to set configuration of system.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetSysCfg&token=TOKEN

Post Data

Data example
[{
"cmd": "SetSysCfg",
"action": 0,
"param": {
"SysCfg": {
"loginLock": 1

}]

}

}

Field description
Field

Description

loginLock

Login lock switch

M/O

Note: You can only set whether to enable the login lock function, the number of
attempts and lock time cannot be changed



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetSysCfg",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.3 Network
3.3.1 GetLocalLink


Interface Description

It is used to get configuration of Local Link.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetLocalLink&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetLocalLink",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetLocalLink",
"code" : 0,
"initial" : {
"LocalLink" : {
"activeLink" : "LAN",
"dns" : {
"auto" : 1,
"dns1" : "192.168.0.1",
"dns2" : "192.168.0.1"
},
"mac" : "EC:71:DB:36:8E:C7",
"static" : {
"gateway" : "192.168.0.1",
"ip" : "192.168.0.100",
"mask" : "255.255.255.0"
},
"type" : "DHCP"
}
},
"range" : {
"LocalLink" : {
"dns" : {

M/O

"auto" : "boolean",
"dns1" : {
"maxLen" : 15
},
"dns2" : {
"maxLen" : 15
}

}

]

}

},
"static" : {
"gateway" : {
"maxLen" : 15
},
"ip" : {
"maxLen" : 15
},
"mask" : {
"maxLen" : 15
}
},
"type" : [ "DHCP", "Static" ]

},
"value" : {
"LocalLink" : {
"activeLink" : "LAN",
"dns" : {
"auto" : 1,
"dns1" : "192.168.2.1",
"dns2" : "114.114.114.114"
},
"mac" : "ec:71:db:0f:93:91",
"static" : {
"gateway" : "192.168.2.1",
"ip" : "192.168.3.38",
"mask" : "255.255.252.0"
},
"type" : "DHCP"
}
}

Field description

Field

description

activeLink

Network connection type [LAN, Wi-Fi]

mac

Network card’s hardware address

type

Network IP’s distrbuiting way, [DHCP, Static]

Static->ip

Ip address

Static->gateway

Gateway address

Static->mask

Subnet mask

Dns->auto

Whether auto get ddns or not

Dns->dns1

Preferred DNS Server.

Dns->dns2

Alternate DNS server.

3.3.2 SetLocalLink


Interface Description

It is used to set configuration of LocalLink.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetLocalLink&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetLocalLink",
"action":0,
"param":{
"LocalLink":{
"type":"Static",
"static":{
"ip":"192.168.2.122",
"mask":"255.255.255.0",
"gateway":"192.168.2.1"
},

}

}

]

}

"dns":{
"auto":0,
"dns1":"202.96.128.166",
"dns2":"202.96.134.133"
}

Field description
Field

Description

M/O

type

Network IP’s distrbuiting way, [DHCP, Static]

O

Static->ip

Ip address

O

Static->gateway Gateway address

O

Static->mask

Subnet mask

O

Dns->auto

Whether auto get ddns or not [0, 1]

O

Dns->dns1

Preferred DNS Server.

O

Dns->dns2

Alternate DNS server.

O



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetLocalLink",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.3 GetDdns


Interface Description

It is used to get configuration of Email.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetDdns&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetDdns",
"action":1
}
]
Field description
Field


Description

M/O

Return data description

Return data correctly
[

{

"cmd" : "GetDdns",
"code" : 0,
"initial" : {
"Ddns" : {
"domain" : "",
"enable" : 1,
"password" : "",
"servAddr" : "dynupdate.no-ip.com",
"type" : "no-ip",
"userName" : ""
}
},

//NVR

]

}

"range" : {
"Ddns" : {
"domain" : {
"maxLen" : 127
},
"enable" : "boolean",
"password" : {
"maxLen" : 127
},
"servAddr" : {
//NVR
"maxLen" : 127,
"servAddrList" : {
"Dyndns" : "members.dyndns.org",
"no-ip" : "dynupdate.no-ip.com"
}
},
"type" : [ "no-ip", "Dyndns" ],
"userName" : {
"maxLen" : 127
}
}
},
"value" : {
"Ddns" : {
"domain" : "",
"enable" : 1,
"password" : "",
"servAddr" : "dynupdate.no-ip.com", //NVR
"type" : "no-ip",
"userName" : ""
}
}

Field description
Field

description

domain

The domain which you set.

enable

Ddns enable switch.

type

Ddns Server type.Range of value is ["3322", "Dyndns"].

userName

Ddns userName.

password

Ddns password.

servAddr

Server address

3.3.4 SetDdns


Interface Description

It is used to set configuration of DDNS.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetDdns&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetDdns",
"param":{
"Ddns":{
"enable":1,
"type":"dyndns",
"userName":"username",
"password":"password",
"domain":"domain"
}
}
}
]
Field description
Field

Description

M/O

domain

The domain which you set.

O

enable

Ddns enable switch.

O

type

Ddns Server type.Range of value is ["3322",

O

"Dyndns"].
userName

Ddns userName.

O

password


Ddns password.

Return data description

Return data correctly
[

]

{

}

"cmd" : " SetDdns",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.5 GetEmail


Interface Description

It is used to get configuration of Email.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetEmail&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetEmail",
"action":1
}
]

O

Field description
Field


Description

M/O

Return data description

Return data correctly
[

{

"cmd" : "GetEmail",
"code" : 0,
"initial" : {
"Email" : {
"addr1" : "",
"addr2" : "",
"addr3" : "",
"attachment" : "picture",
"interval" : "5 Minutes",
"nickName" : "NVR",
//NVR
"password" : "",
"schedule" : {
"enable" : 0,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
},
"smtpPort" : 465,
"smtpServer" : "smtp.gmail.com",
"ssl" : 1,
"userName" : ""
}
},
"range" : {
"Email" : {
"addr1" : {
"maxLen" : 127
},
"addr2" : {
"maxLen" : 127
},
"addr3" : {
"maxLen" : 127

},
"attachment" : [ "no", "picture", "video", "onlyPicture" ],
"interval" : [ "30 Seconds", "1 Minute", "5 Minutes", "10 Minutes",
"30 Minutes" ],
"nickName" : {
//NVR
"maxLen" : 127
},
"password" : {
"maxLen" : 31
},
"schedule" : {
"enable" : "boolean",
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"smtpPort" : {
"max" : 65535,
"min" : 1
},
"smtpServer" : {
"maxLen" : 127
},
"ssl" : "boolean",
"userName" : {
"maxLen" : 127
}
}
},
"value" : {
"Email" : {
"addr1" : "",
"addr2" : "",
"addr3" : "",
"attachment" : "picture",
"interval" : "30 Minutes",
"nickName" : "NVR",
//NVR
"password" : "******",
"schedule" : {
"enable" : 1,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

1111111111111111111111111111111111111"
},
"smtpPort" : 465,
"smtpServer" : "smtp.gmail.com",
"ssl" : 1,
"userName" : "***@sz-bcs.com.cn"
}
}
}
]
Field description
Field

description

smtpServer

Email server of sender,at most 127 characters.

smtpPort

Port of Email server,limit 1~65535.

userName

Sender address,at most 127 characters.

password

Sender password,at most 31 characters.

attachment

The type of email attachment.

ssl

Whether to open the encryption mode,the type of ssl is
Boolean.

interval

Send mail interval.

addr1

Recver address1, at most 127 characters.

addr2

Recver address2, at most 127 characters.

addr3

Recver address3, at most 127 characters.

Schedule->enable

Whether email receive the alarm information

Schedule->table

The schedule about when email receives the alarm
information

Note:
When scheduleVersion ver=1 in the capability set, use cmd “GetEmailV20”

3.3.6 SetEmail


Interface Description

It is used to set configuration of Email.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetEmail&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetEmail",
"param":{
"Email":{
"smtpServer":"smtp.exmail.qq.com",
"smtpPort":25,
"userName":"xxx@sz-bcs.com.cn",
"password":"xxxxxx",
"attachment":"video",
"ssl":0,
"interval":"5 Minutes",
"addr1":"xxx@sz-bcs.com.cn",
"addr2":"xxx@sz-bcs.com.cn",
"addr3":"xxx@sz-bcs.com.cn",
"schedule" : {
"enable" : 1,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111"
}
}
}
}
]
Field description
Field

Description

M/O

smtpServer

Email server of sender, at most 127 characters.

O

smtpPort

Port of Email server, limit 1~65535.

O

userName

Sender address, at most 127 characters.

O

password

Sender password, at most 31 characters.

O

attachment

The type of email attachment. Range of value is ["O",

O

"picture", "video", "onlyPicture"].
Ssl

Whether to open the encryption mode, the type of ssl

O

is Boolean.
interval

Send mail interval. Range of value is ["30 Seconds", "1

O

Minute", "5 Minutes", "10 Minutes"].
addr1

Recver address1,at most 127 characters.

O

addr2

Recver address2,at most 127 characters.

O

addr3

Recver address3,at most 127 characters.

O

Schedule->en

Whether email receive the alarm information [0, 1]

O

Schedule->tab

The schedule about when email receives the alarm

O

le

information



Return data description

able

Return data correctly
[

]

{

}

"cmd" : "SetEmail",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

Note:
When scheduleVersion ver=1 in the capability set, use cmd “SetEmailV20”

3.3.7 GetEmailV20


Interface Description

It is used to get configuration of Email.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetEmailV20&token=TOKEN

POST Data

Data example
[{
"cmd": "GetEmailV20",
"param": {
"channel": 0
}
}]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetEmailV20",
"code" : 0,
"value" : {
"Email" : {
"addr1" : "xxx@sz-bcs.com.cn",
"addr2" : "xxx@sz-bcs.com.cn",
"addr3" : "xxx@sz-bcs.com.cn",
"attachmentType" : 2,
"diskErrorAlert" : 0,

M/O

"diskFullAlert" : 0,
"enable" : 0,
"interval" : "5 Minutes",
"nickName" : "NVR",
"password" : "xxxxxx",
"schedule" : {
"channel" : 0,
"table" : {
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111",
"VL" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000"
}
},
"smtpPort" : 25,
"smtpServer" : "smtp.exmail.qq.com",
"ssl" : 0,
"supportTextType" : 1,
"supportVideo" : 1,
"textType" : 1,
"userName" : "xxx@sz-bcs.com.cn"
}
}
}
]
Field description
Field

description

smtpServer

Email server of sender,at most 127 characters.

smtpPort

Port of Email server,limit 1~65535.

userName

Sender address,at most 127 characters.

password

Sender password,at most 31 characters.

attachmentType

The type of email attachment.

Ssl

Whether to open the encryption mode,the type of ssl is
Boolean.

interval

Send mail interval.

addr1

Recver address1, at most 127 characters.

addr2

Recver address2, at most 127 characters.

addr3

Recver address3, at most 127 characters.

Schedule->enable

Start using schedule

Schedule->table

Table of Alarmtype

nickname

Corresponds to the user name

supportTextType

Support the type of Test

supportVideo

Support the type of video

textType

Text of type

3.3.8 SetEmailV20


Interface Description

It is used to set configuration of Email.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetEmailV20&token=TOKEN

POST Data

Data example
[{
"cmd": "SetEmailV20",
"param": {

}]

}

"Email": {
"ssl": 0,
"smtpPort": 25,
"smtpServer": "smtp.exmail.qq.com",
"userName": "xxx@sz-bcs.com.cn",
"nickName": "",
"addr1": "xxx@sz-bcs.com.cn",
"addr2": "xxx@sz-bcs.com.cn",
"addr3": "xxx@sz-bcs.com.cn",
"interval": "5 Minutes"
}

Field description
Field

Description

M/O

smtpServer

Email server of sender, at most 127 characters.

O

smtpPort

Port of Email server, limit 1~65535.

O

userName

Sender address, at most 127 characters.

O

password

Sender password, at most 31 characters.

O

nickName
Ssl

O
Whether to open the encryption mode, the type of ssl is O
Boolean.

interval

Send mail interval. Range of value is ["30 Seconds",

O

"1 Minute", "5 Minutes", "10 Minutes"].
addr1

Recver address1,at most 127 characters.

O

addr2

Recver address2,at most 127 characters.

O

addr3

Recver address3,at most 127 characters.

O

Schedule->en

Start using schedule

O

Table of Alarmtype

O

able
Schedule->tab
le


Return data description

Return data correctly
[

]

{

}

"cmd" : "SetEmailV20",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.9 TestEmail


Interface Description

It is used to set configuration of TestEmail.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=TestEmail&token=TOKEN

POST Data

Data example
[{
"cmd": "TestEmail",
"param": {
"Email": {
"addr1": "****@sz-bcs.com.cn",
"addr2": "",
"addr3": "",
"interval": "5 Minutes",
"nickName": "000",
"password": "lwmypvelvexadfab",

}]

}

}

"smtpPort": 465,
"smtpServer": "smtp.qq.com",
"ssl": 1,
"userName": "**********@qq.com"

Field description
Field

Description

M/O

smtpServer

Email server of sender, at most 127 characters.

M

smtpPort

Port of Email server, limit 1~65535.

M

userName

Sender address, at most 127 characters.

M

password

Sender password, at most 31 characters.

O

ssl

Whether to open the encryption mode, the type of ssl

M

is Boolean.
addr1

Recver address1, at most 127 characters.

O

addr2

Recver address2, at most 127 characters.

O

addr3

Recver address3, at most 127 characters.

O

nickName

Corresponds to the user name

O

Note: At least one of the three addresses (addr1,addr2,addr3) is completed.


Return data description

Return data correctly
[

]

{

}

"cmd" : "TestEmail",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.10 GetFtp


Interface Description

It is used to get configuration of Ftp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetFtp&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetFtp",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetFtp",
"code" : 0,
"initial" : {
"Ftp" : {
"anonymous" : 0,
"autoDir" : 1, //NVR
"interval" : 30,
"maxSize" : 100,
"mode" : 0, //NVR

M/O

"password" : "",
"port" : 21,
"remoteDir" : "",
"schedule" : {
"enable" : 0,
"table" :
"22222222222222222222222222222222222222222222222222222222222222222
222222222222222222222222222222222222222222222222222222222222222222
2222222222222222222222222222222222222"
},
"server" : "",
"streamType" : 0,
"userName" : ""
}
},
"range" : {
"Ftp" : {
"anonymous" : "boolean",
"autoDir" : "boolean", //NVR
"interval" : {
"max" : 3600,
"min" : 1
},
"maxSize" : {
"max" : 1024,
"min" : 10
},
"mode" : { //NVR
"max" : 2,
"min" : 0
},
"password" : {
"maxLen" : 127
},
"port" : {
"max" : 65535,
"min" : 1
},
"remoteDir" : {
"maxLen" : 255
},
"schedule" : {
"enable" : "boolean",
"table" : {

}

}

"maxLen" : 168,
"minLen" : 168

},
"server" : {
"maxLen" : 127
},
"streamType" : {
"max" : 2,
"min" : 0
},
"userName" : {
"maxLen" : 127
}

},
"value" : {
"Ftp" : {
"anonymous" : 0,
"autoDir" : 1, //NVR
"interval" : 30,
"maxSize" : 100,
"mode" : 0,
"password" : "",
"port" : 21,
"remoteDir" : "",
"schedule" : {
"enable" : 1,
"table" :
"22222222222222222222222222222222222222222222222222222222222222222
222222222222222222222222222222222222222222222222222222222222222222
2222222222222222222222222222222222222"
},
"server" : "",
"streamType" : 0,
"userName" : ""
}
}
}
]
Field description
Field

Description

initial

The initial value of the Ftp field.

range

The range of the Ftp field.

value

The real value of the Ftp field.

server

FTP server, can fill in the IP address or domain name.
At most 127 characters.

port

Port of FTP Server, Limit 1~65535.

anonymous

Whether anonymous or not

userName

FTP account name.

password

FTP account password.

remoteDir

FTP root directory.

maxSize

Maximum size of FTP file.

streamType

The types of the uploading files. 0 is for uploading both
pictures and videos, and 1 is for uploading pictures only.

interval

When streamType=0, interval stands for the time of post
record, the range is between 30 to 1800 seconds.
When streamType=1, interval stands for the time interval,
the range is between 1 to 1800 seconds.

Schedule->enable

Whether ftp receives the alarm information or not.

Schedule->table

The schedule about when ftp receives the alarm information

autoDir
Note:
When scheduleVersion ver=1 in the capability set, use cmd “GetFtpV20”

3.3.11 SetFtp


Interface Description

It is used to set configuration of Ftp.


Interface Call Instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetFtp&token=TOKEN

POST Data

Data example
[{
"cmd": "SetFtp",
"param": {
"Ftp": {
"anonymous": 0,
"autoDir": 1,
"bpicSingle": 0,
"bvideoSingle": 0,
"interval": 30,
"maxSize": 100,
"mode": 0,
"onlyFtps": 0,
"password": "",
"picInterval": 60,
"picName": "",
"port": 21,
"remoteDir": "",
"schedule": {
"enable": 1,
"table":
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
},
"server": "",
"size": "",
"streamType": 0,
"userName": "",
"videoName": ""
}
}
}]
Field description
Field

Description

M/O

server

FTP server, can fill in the IP address or domain name.

O

port

Port of FTP Server.

O

aonymous

Whether anonymous or not

O

userName

FTP account name. When the value of anonymous is

O

(Depend on

0, the user Name field is necessary.

anonymous)
Password

FTP account password. FTP account name. When the

O

(Depend on

value of aOnymous is 0, the password field is

anonymous)

necessary.

remoteDir

FTP root directory.

O

maxSize

Maximum size of FTP file.

O

streamType

The type of the uploading files. 0 is for uploading both

O

pictures and videos, and 1 is for uploading pictures
only.
interval

When streamType=0, interval stands for the time of

O

post record, the range is between 30 to 1800 seconds.
When streamType=1, interval stands for the time
interval, the range is between 1 to 1800 seconds.
Schedule->en

Whether ftp receive the alarm information [0, 1]

O

Schedule->tab

The schedule about when ftp receives the alarm

O

le

information

able

Note:
When scheduleVersion ver=1 in the capability set, use cmd “SetFtpV20”


Return data description

Return data correctly
[

{

"cmd" : "SetFtp",
"code" : 0,
"value" : {
"rspCode" : 200
}

]

}

Field description
Field

Description

rspCode

Response code

Note: This command supports model 52X only

3.3.12 GetFtpV20


Interface Description

It is used to get configuration of Ftp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetFtpV20&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetFtpV20",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetFtpV20",
"code" : 0,

M/O

"initial" : {
"Ftp" : {
"anonymous" : 0,
"autoDir" : 1,
"bpicSingle" : 0,
"bvideoSingle" : 0,
"enable" : 1,
"interval" : 30,
"maxSize" : 100,
"mode" : 0,
"onlyFtps" : 0,
"password" : "",
"picCaptureMode" : 0,
"picHeight" : 2160,
"picInterval" : 60,
"picName" : "",
"picWidth" : 3840,
"port" : 21,
"remoteDir" : "",
"schedule" : {
"channel" : 0,
"table" : {
"AI_DOG_CAT" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111",
"TIMING" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000"
}
},

}

"server" : "",
"streamType" : 0,
"userName" : "",
"videoName" : ""

},
"range" : {
"Ftp" : {
"anonymous" : "boolean",
"autoDir" : [ 0, 1, 2, 3 ],
"bpicSingle" : [ 0, 1, 2 ],
"bvideoSingle" : [ 0, 1, 2 ],
"enable" : "boolean",
"interval" : [ 5, 10, 15, 30, 60 ],
"maxSize" : {
"max" : 1024,
"min" : 10
},
"mode" : {
"max" : 2,
"min" : 0
},
"password" : {
"maxLen" : 127
},
"picCaptureMode" : [ 0, 1, 2, 3 ],
"picHeight" : {
"max" : 2160,
"min" : 360
},
"picInterval" : [ 2, 5, 10, 15, 30, 60, 300, 600, 1800 ],
"picName" : {
"maxLen" : 127
},
"picWidth" : {
"max" : 3840,
"min" : 640
},
"port" : {
"max" : 65535,
"min" : 1
},
"remoteDir" : {
"maxLen" : 255

},
"schedule" : {
"channel" : 0,
"table" : {
"AI_DOG_CAT" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"AI_PEOPLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"AI_VEHICLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"MD" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"TIMING" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
}
}
},
"server" : {
"maxLen" : 127
},
"streamType" : {
"max" : 6,
"min" : 0
},
"userName" : {

"maxLen" : 127

}

},
"videoName" : {
"maxLen" : 127
}

},
"value" : {
"Ftp" : {
"anonymous" : 0,
"autoDir" : 2,
"bpicSingle" : 0,
"bvideoSingle" : 0,
"enable" : 1,
"interval" : 30,
"maxSize" : 100,
"mode" : 2,
"onlyFtps" : 1,
"password" : "***********",
"picCaptureMode" : 3,
"picHeight" : 2160,
"picInterval" : 60,
"picName" : "",
"picWidth" : 3840,
"port" : 21,
"remoteDir" : "*******",
"schedule" : {
"channel" : 0,
"table" : {
"AI_DOG_CAT" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111

11111111111111111111111111111111111",
"TIMING" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000"
}
},
"server" : "192.168.0.132",
"streamType" : 3,
"userName" : "ft***er",
"videoName" : ""
}
}
}
]
Field description
Field

Description

initial

The initial value of the Ftp field.

range

The range of the Ftp field.

value

The real value of the Ftp field.

server

FTP server, can fill in the IP address or domain name.
At most 127 characters.

port

Port of FTP Server, Limit 1~65535.

Anonymous

Whether to be anonymous

userName

FTP account name.

password

FTP account password.

remoteDir

FTP root directory.

maxSize

Maximum size of FTP file.

streamType

The types of the uploading files. 0 is for uploading both
pictures and videos, and 1 is for uploading pictures only.

interval

When streamType=0, interval stands for the time of post
record, the range is between 30 to 1800 seconds.
When streamType=1, interval stands for the time interval, the
range is between 1 to 1800 seconds.

Schedule->enable

Whether Start using schedule or not

Schedule->table

Table of Alarm type

autoDir

Whether to create directories automatically
0:Create directories by year, month and day, like :
YYYY-MM-DD
1:0:Create directories by year, month,like:
YYYY-MM

mode

Transport mode
0:Choose active mode or passive mode autonomously
1:Active mode
2:Passive mode

onlyFtps

Ftps switch,Whether to select the encryption mode

picCaptureMode

Image resolution mode
0:A clear picture
1:Standard image
2:Smooth image
Note: Clear pictures have the highest resolution, smooth
pictures have the lowest resolution

picHeight

Picture height
Note: The width and height of the image are not arbitrary and
need to match the resolution supported by the image

picWidth

Pitcure width

bpicSingle

Image upload mode
0:All images are retained and will not be deleted
1:Only the latest image will be kept, and the others will be
replaced
2:The other replacement strategy, which is different, instead
of replacing directly, is to first store the second image and
then delete the first one

bvideoSingle

Video upload mode

0:All videos are retained and will not be deleted
1:Only the latest video will be kept, and the others will be
replaced
2:The other replacement strategy, which is different, instead
of replacing directly, is to first store the second video and
then delete the first one
picInterval

Image upload interval

3.3.13 SetFtpV20


Interface Description

It is used to set configuration of Ftp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetFtpV20&token=TOKEN

POST Data

Data example
[{
"cmd": "SetFtpV20",
"param": {
"Ftp": {
"anonymous": 0,
"autoDir": 1,
"bpicSingle": 0,
"bvideoSingle": 0,
"enable": 1,
"interval": 30,
"maxSize": 100,
"mode": 0,
"onlyFtps": 1,
"password": "***********",
"picCaptureMode": 3,

"picHeight": 1920,
"picInterval": 60,
"picName": "",
"picWidth": 2304,
"port": 21,
"remoteDir": "hello",
"schedule": {
"channel": 0,
"table": {
"AI_DOG_CAT":
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111",
"AI_PEOPLE":
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111",
"AI_VEHICLE":
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111",
"MD":
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111",
"TIMING":
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000"
}
},
"server": "192.168.1.236",
"streamType": 6,
"userName": "ft***er",
"videoName": "sdfs"
}
}
}]
Field description
Field

Description

M/O

server

FTP server, can fill in the IP address or domain name.

O

port

Port of FTP Server.

O

anonymous

Whether to be anoymous or not

O

userName

FTP account name. When the value of anonymous is 0, O

(Depend on

the user Name field is necessary.

anonymous)
Password

FTP account password. FTP account name. When the

O

(Depend on

value of anonymous is 0, the password field is

anonymous)

necessary.

remoteDir

FTP root directory.

O

maxSize

Maximum size of FTP file.

O

streamType

The type of the uploading files. 0 is for uploading both

O

pictures and videos, and 1 is for uploading pictures
only.
interval

When streamType=0, interval stands for the time of

O

post record, the range is between 30 to 1800 seconds.
When streamType=1, interval stands for the time
interval, the range is between 1 to 1800 seconds.
Schedule->en

Whether Start using schedule or not

O

Table of Alarm type

O

able
Schedule->tab
le
mode


Transport mode

Return data description

Return data correctly
[

{

}

"cmd" : "SetFtp",
"code" : 0,
"value" : {
"rspCode" : 200
}

]
Field description
Field

description

rspCode

Response code

3.3.14 TestFtp


Interface Description

It is used to set configuration of TestFtp.


Interface Call Instructions

Request URL


https://IPC_IP/api.cgi?cmd=TestFtp&token=TOKEN

POST Data

Data example
[{
"cmd": "TestFtp",
"action": 0,
"param": {
"Ftp": {
"server": "192.168.0.132",
"port": 21,
"anonymous": 0,
"mode": 2,
"userName": "ftpuser",
"password": "000000",
"remoteDir": "fadad",
"onlyFtps": 1,
"bpicSingle": 2,
"bvideoSingle": 2
}
}
}]

Field description
Field

Description

M/O

server

FTP server, can fill in the IP address or domain name.

M

At most 127 characters.
port

Port of FTP Server ,Limit 1~65535.

M

anonymous

Whether anonymous or not

M

userName

FTP account name. FTP account password. FTP

O

(Depend on

account name. When the value of anonymous is 0, the

anonymous)

userName field is necessary.

Password

FTP account password. FTP account password. FTP

(Depend on

account name. When the value of anonymous is 0, the

anonymous)

password field is necessary.

remoteDir

FTP root directory.

M

mode

Transport type

M

onlyFtps

Ftps switch

M

bpicSingle

Image upload mode

M

bvideoSingle

Video upload mode

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "TestFtp",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

Description

rspCode

Response code

O

mode

Trans port

3.3.15 GetNtp


Interface Description

It is used to get configuration of NTP.


Interface Call Instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetNtp&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetNtp",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetNtp",
"code" : 0,
"initial" : {
"Ntp" : {
"enable" : 0,
"interval" : 1440,
"port" : 123,
"server" : "pool.ntp.org"
}

M/O

]

}

},
"range" : {
"Ntp" : {
"enable" : "boolean",
"interval" : {
"max" : 65535,
"min" : 60
},
"port" : {
"max" : 65535,
"min" : 1
},
"server" : {
"maxLen" : 127
}
}
},
"value" : {
"Ntp" : {
"enable" : 0,
"interval" : 1440,
"port" : 123,
"server" : "pool.ntp.org"
}
}

Field description
Field

Description

enable

NTP switch, The value of 1 represents the open, and the 0 is
the opposite.

server

NTP server, can fill in the IP address or domain name.

port

Port of NTP Server.

interval

Time synchronization interval. Limit 10~65535, and 0 on
behalf of the immediate synchronization.

3.3.16 SetNtp


Interface Description

It is used to set configuration of Set Ntp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetNtp&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetNtp",
"param":{
"Ntp":{
"enable":1,
"server":"pool.ntp.org",
"port":123,
"interval":1440
}
}
}
]
Field description
Field

Description

M/O

enable

NTP switch, the value of 1 represents the open, and

O

the 0 is the opposite.
server

NTP server, can fill in the IP address or domain name.

O

port

Port of NTP Server .

O

interval

Time synchronization interval. Limit 10~65535, and 0

O

on behalf of the immediate synchronization.


Return data description

Return data correctly
[

]

{

}

"cmd" : "SetNtp",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

Description

rspCode

Response code

3.3.17 GetNetPort


Interface Description

It is used to get configuration of NetPort.


Interface Call Instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetNetPort&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetNetPort",
"action":1
}
]
Field description
Field


Description

Return data description

M/O

Return data correctly
[

]

{

}

"cmd" : "GetNetPort",
"code" : 0,
"value" : {
"NetPort" : {
"httpEnable" : 0,
"httpPort" : 80,
"httpsEnable" : 1,
"httpsPort" : 443,
"mediaPort" : 9000,
"onvifEnable" : 1,
"onvifPort" : 8000,
"rtmpEnable" : 0,
"rtmpPort" : 1935,
"rtspEnable" : 1,
"rtspPort" : 554
}
}

Field description
Field

Description

httpPort

Port of http.

httpsPort

Port of https.

mediaPort

Port of media.

onvifPort

Port of onvif.

rtspPort

Port of rtsp.

rtmpPort

Port of rtmp.

httpEnable

http switch

httpsEnable

https switch

rtmpEnable

Rtmp switch

rtspEnable

Rtsp switch

onvifEnable

Onvif switch

3.3.18 SetNetPort


Interface Description

It is used to set configuration of NetPort.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetNetPort&token=TOKEN

POST Data

Data example
[{
"cmd": "SetNetPort",
"param": {
"NetPort": {
"httpEnable": 0,
"httpPort": 80,
"httpsEnable": 1,
"httpsPort": 443,
"mediaPort": 9000,
"onvifEnable": 1,
"onvifPort": 8000,
"rtmpEnable": 0,
"rtmpPort": 1935,
"rtspEnable": 1,
"rtspPort": 554
}
}
}]
Field description
Field

Description

M/O

httpPort

Port of http.

O

httpsPort

Port of https.

O

mediaPort

Port of media.

O

onvifPort

Port of onvif.

O

rtspPort

Port of rtsp.

O

rtmpPort

Port of rtmp.

O



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetNetPort",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field Description
Field

Description

rspCode

Response code

3.3.19 GetUpnp


Interface Description

It is used to get configuration of Upnp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetUpnp&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetUpnp",
"action":1
}

]
Field description
Field


Description

M/O

Return data description

Return data correctly
[

]

{

}

"cmd" : "GetUpnp",
"code" : 0,
"initial" : {
"Upnp" : {
"enable" : 0
}
},
"range" : {
"Upnp" : {
"enable" : "boolean"
}
},
"value" : {
"Upnp" : {
"enable" : 0
}
}

Field description
Field

Description

enable

Upnp switch,The value of 1 represents the open, and the 0 is
the opposite.

3.3.20 SetUpnp


Interface Description

It is used to set configuration of Upnp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetUpnp&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetUpnp",
"param":{
"Upnp":{
"enable":1
}
}
}
]
Field description
Field

Description

M/O

enable

Upnp switch, The value of 1 represents the open, and

O

the 0 is the opposite.


Return data description

Return data correctly
[

]

{

}

"cmd" : "SetUpnp",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.21 GetWifi


Interface Description

It is used to get configuration of GetWifi.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetWifi&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetWifi",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetWifi",
"code" : 0,
"initial" : {
"Wifi" : {
"password" : "",
"ssid" : ""
}
},
"range" : {

M/O

"Wifi" : {
"password" : {
"maxLen" : 127
},
"ssid" : {
"maxLen" : 127
}
}

]

}

},
"value" : {
"Wifi" : {
"password" : "***********",
"ssid" : "reolink_pyc"
}
}

Field description
Field

description

ssid

The name of the wireless network

password

The password of the wireless network

3.3.22 SetWifi


Interface Description

It is used to set configuration of Wifi.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetWifi&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetWifi",

"param":{
"Wifi":{
"ssid":"ssid",
"password":"000000"
}
}

}

]

Field description
Field

Description

M/O

ssid

The name of the wireless network

O

password

The password of the wireless network

O



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetWifi",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.23 TestWifi


Interface Description

It is used to set configuration of TestWifi.


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd=TestWifi&token=TOKEN

POST Data



Data example
[
{
"cmd":"TestWifi",
"param":{
"Wifi":{
"ssid":"ssid",
"password":"password"
}
}
}
]
Field description
Field

Description

M/O

ssid

The name of the wireless network

M

password

The password of the wireless network

O



Return data description

Return data correctly
[

]

{

}

"cmd" : "TestWifi",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.24 ScanWifi


Interface Description

It is used to get configuration of ScanWifi.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=ScanWifi&token=TOKEN

POST Data

Data example
[
{
"cmd":"ScanWifi",
"param":{}
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "ScanWifi",
"code" : 0,
"value" : {
"Wifi" : [
{
"bencrypt" : 1,
"signal" : 4,
"ssid" : "HUAWEI-D1FC"
},
... // There may be multiple wireless networks.
]
}

M/O

]

}

Field description
Field

description

signal

Wireless signal strength
(1 : signal <= -60)
(2 : signal <= -50)
(3 : signal <= -40)
(4 : signal > -40)

ssid

The name of wireless network

bencrypt

3.3.25 GetWifiSignal


Interface Description

It is used to get configuration of Get Wifi signal.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetWifiSignal&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetWifiSignal",
"action":1
}
]
Field description
Field


Description

Return data description

M/O

Return data correctly
[

]

{

}

"cmd" : "GetWifiSignal",
"code" : 0,
"initial" : {
"wifiSignal" : 100
},
"range" : {
"wifiSignal" : {
"max" : 255,
"min" : 0
}
},
"value" : {
"wifiSignal" : 100
}

Field description
Field

description

wifiSignal

3.3.26 GetPush


Interface Description

It is used to get configuration of Push.


Interface call instructions

Request URL


POST Data

https://IPC_IP/api.cgi?cmd=GetPush&token=TOKEN

Data example
[
{
"cmd":"GetPush",
"action":1
}
]
Field description
Field


Description

M/O

Return data description

Return data correctly
[

{

"cmd" : "GetPush",
"code" : 0,
"initial" : {
"Push" : {
"schedule" : {
"enable" : 1,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111"
}
}
},
"range" : {
"Push" : {
"schedule" : {
"enable" : "boolean",
"table" : {
"maxLen" : 168,
"minLen" : 168
}
}
}
},
"value" : {

"Push" : {
"schedule" : {
"enable" : 1,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111"
}
}
}
}
]
Field description
Field

description

Schedule->enable

Whether push the alarm information

Schedule->table

The schedule about when push the alarm information

Note:
When scheduleVersion ver=1 in the capability set, use cmd “GetPushV20”

3.3.27 SetPush


Interface Description

It is used to set configuration of Push.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetPush&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetPush",
"param":{
"Push":{

"schedule" : {
"enable" : 1,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111"
}
}
}
}
]
Field description
Field

Description

M/O

Schedule->enab

Whether push the alarm information [0, 1]

O

le
Schedule->table The schedule about when push the alarm information
Note: This command supports model 52X only


Return data description

Return data correctly
[

]

{

}

"cmd" : " SetPush",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

Note:
When scheduleVersion ver=1 in the capability set, use cmd “SetPushV20”

O

3.3.28 GetPushV20


Interface Description

It is used to get configuration of Push.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetPush&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetPushV20",
"action":1,
"param": {
"channel": 0
}
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetPushV20",
"code" : 0,
"initial" : {
"Push" : {
"enable" : 0,
"schedule" : {
"channel" : 0,
"table" : {
//NVR
"AI_PEOPLE" :

M/O

"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
//NVR
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111"
}
}
}
},
"range" : {
"Push" : {
"enable" : "boolean",
"schedule" : {
"channel" : 0,
"table" : {
//NVR
"AI_PEOPLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
//NVR
"AI_VEHICLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"MD" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
}
}
}
}
},
"value" : {

"Push" : {
"enable" : 1,
"schedule" : {
"channel" : 0,
"table" : {
//NVR
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
//NVR
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"011111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111100"
}
}
}
}
}
]
Field description
Field

description

Schedule->enable

Schedule switch

Schedule->table

Schdeule table

3.3.29 SetPushV20


Interface Description

It is used to set configuration of Push.


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd=SetPush&token=TOKEN

POST Data



Data example
[{
"cmd": "SetPushV20",
"param": {
"Push": {
"enable": 1,
"schedule": {
"channel": 0,
"table": {
"MD":
"011111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111100"
}
}
}
}
}]
Field description
Field

Description

M/O

Schedule->en

Schedule switch

O

Schedule table

O

able
Schedule->tab
le


Return data description

Return data correctly
[

]

{

}

"cmd" : "SetEmail",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.30 GetPushCfg


Interface Description

It is used to get configuration of Push.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetPushCfg&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetPushCfg",
"action":1
}
]
Field description
Field


Description

Return data description

Return data correctly
[

{

"cmd" : "GetPushCfg",
"code" : 0,
"initial" : {
"PushCfg" : {
"pushInterval" : 0

M/O

}

]

}

},
"range" : {
"PushCfg" : {
"pushInterval" : [ 20, 30, 60, 120 ]
}
},
"value" : {
"PushCfg" : {
"pushInterval" : 30
}
}

Field description
Field

description

initial

The initial value of the Ftp field.

range

The range of the Ftp field.

value

The real value of the Ftp field.

pushInterval

The interval of push

3.3.31 SetPushCfg


Interface Description

It is used to set configuration of Push.


Interface call instructions

Request URL


POST Data

Data example
[{

https://IPC_IP/api.cgi?cmd=SetPushCfg&token=TOKEN

}]

"cmd": "SetPushCfg",
"param": {
"PushCfg": {
"pushInterval":30
}
}

Field description
Field

Description

M/O

pushInterval

Push interval.

O



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetPushCfg",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.32 GetP2p


Interface Description

Get tP2pinformation


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= GetP2p&token=TOKEN

POST Data

Data example
[
{
"cmd": "GetP2p",
"action": 1
}
]
Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

{

"cmd": "GetP2p",
"code": 0,
"initial": {
"P2p": {
"enable": 1
}
},

}

]

"range": {
"P2p": {
"enable": "boolean"
}
},
"value": {
"P2p": {
"enable": 1,
"uid": "95270000SXIPOGIJ"
}
}

Field description
Field

description

enable

Whether enable p2p or not

uid

IPC uid

3.3.33 SetP2p


Interface Description

SetP2P


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= SetP2p&token=TOKEN

POST Data

Data example
[
{
"cmd": "SetP2p",
"param": {
"P2p": {
"enable": 0
}
}

}

]

Field description
Field

Description

M/O

enable

Whether enable p2p or not

O



Return data description

Return data correctly
[

]

{

}

"cmd" : " SetP2P",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.3.34 GetCertificateInfo


Interface Description

Get CertificateInfo


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= GetCertificateInfo&token=TOKEN

POST Data

Data example
[{
"cmd": "GetCertificateInfo",
"action": 0,

}]

"param": {}

Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

]

{

}

"cmd" : "GetCertificateInfo",
"code" : 0,
"value" : {
"CertificateInfo" : {
"crtName" : "",
"enable" : 0,
"keyName" : ""
}
}

Field description
Field

description

enable

Whether enable p2p or not

uid

IPC uid

3.3.35 CertificateClear


Interface Description

Clear Certificate


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd= CertificateClear&token=TOKEN



POST Data

Data example
[{
"cmd": "CertificateClear",
"action": 0,
"param": {}
}]
Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

]

{

}

"cmd" : "CertificateClear",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

enable

Whether enable p2p or not

uid

IPC uid

3.3.36 GetRtspUrl


Interface Description

Get Rtsp Url.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= GetRtspUrl&token=TOKEN

POST Data

Data example
[{
"cmd": "GetRtspUrl",
"action": 0,
"param": {
"channel": 1
}
}]
Field description
Field

Description

M/O
M



Return data description

Return data correctly
[

]

{

}

"cmd" : "GetRtspUrl",
"code" : 0,
"value" : {
"rtspUrl" : {
"channel" : 1,
"mainStream" : "rtsp://192.168.1.58:554/Preview_02_main",
"subStream" : "rtsp://192.168.1.58:554/Preview_02_sub"
}
}

Field description
Field

description

mainStream

Rtsp url of main stream

subStream

Rtsp url of sub stream

3.4 Video input
3.4.1 GetImage


Interface Description

It is used to get configuration of image.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetImage&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetImage",
"action":1,
"param":{
"channel":0
}
}
]
Field description
Field



Description

Return data description

Return data correctly
[

{

"cmd" : "GetImage",
"code" : 0,
"initial" : {

M/O

"Image" : {
"bright" : 128,
"channel" : 0,
"contrast" : 128,
"hue" : 128,
"saturation" : 128,
"sharpen" : 128
}

},
"range" : {
"Image" : {
"bright" : {
"max" : 255,
"min" : 0
},
"channel" : 0,
"contrast" : {
"max" : 255,
"min" : 0
},
"hue" : {
"max" : 255,
"min" : 0
},
"saturation" : {
"max" : 255,
"min" : 0
},
"sharpen" : {
"max" : 255,
"min" : 0
}
}
},
"value" : {
"Image" : {
"bright" : 128,
"channel" : 0,
"contrast" : 128,
"hue" : 128,
"saturation" : 128,
"sharpen" : 128
}
}

]

}

Field description
Field

description

bright

Bright of video.

contrast

Contrast of video.

saturation

Saturation of video.

hue

Hue of video.

sharpen

Sharpen of video.

3.4.2 SetImage


Interface Description

It is used to set configuration of image.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetImage&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetImage",
"param":{
"Image":{
"channel":0,
"bright":150,
"contrast":150,
"saturation":150,
"hue":150,
"sharpen":150
}
}

}

]

Field description
Field

Description

M/O

channel

IPC channel number.

M

bright

Bright of video.

M

contrast

Contrast of video.

M

saturation

Saturation of video.

M

hue

Hue of video.

M

sharpen

Sharpen of video.

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetImage",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.4.3 GetOsd


Interface Description

It is used to get configuration of Osd.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetOsd&token=TOKEN

POST Data

Data example
[
{
"cmd": "GetOsd",
"action": 1,
"param": {
"channel": 0
}
}
]
Field description
Field

Description

M/O

channel

IPC channel number

M



Return data description

Return data correctly
[

{

"cmd" : "GetOsd",
"code" : 0,
"initial" : {
"Osd" : {
"bgcolor" : 0,
"channel" : 0,
"osdChannel" : {
"enable" : 1,
"name" : "Camera1",
"pos" : "Lower Right"
},
"osdTime" : {
"enable" : 1,
"pos" : "Top Center"
},
"watermark" : 1
}

},
"range" : {
"Osd" : {
"bgcolor" : "boolean",
"channel" : 0,
"osdChannel" : {
"enable" : "boolean",
"name" : {
"maxLen" : 31
},
"pos" : [
"Upper Left",
"Top Center",
"Upper Right",
"Lower Left",
"Bottom Center",
"Lower Right",
"Other Configuration"
]
},
"osdTime" : {
"enable" : "boolean",
"pos" : [
"Upper Left",
"Top Center",
"Upper Right",
"Lower Left",
"Bottom Center",
"Lower Right",
"Other Configuration"
]
},
"watermark" : "boolean"
}
},
"value" : {
"Osd" : {
"bgcolor" : 0,
"channel" : 0,
"osdChannel" : {
"enable" : 1,
"name" : "Camera1",
"pos" : "Lower Right"
},

]

}

}

}

"osdTime" : {
"enable" : 1,
"pos" : "Top Center"
},
"watermark" : 1

Field description
Field

description

osdChannel->enable

Camera name display switch.

osdChannel->name

Camera name

osdChannel->pos

Camera name display position.

osdTime->enable

Camera time display switch.

osdTime->pos

Camera time display position.

bgcolor

Background color

watermark

Watermark

3.4.4 SetOsd


Interface Description

It is used to set configuration of Osd.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetOsd&token=TOKEN

POST Data

Data example
[
{
"cmd": "SetOsd",

}

]

"param": {
"Osd": {
"channel": 0,
"osdChannel": {
"enable": 1,
"name": "Camera101",
"pos": "Lower Right"
},
"osdTime": {
"enable": 1,
"pos": "Upper Right"
}
}
}

Field description
Field

Description

M/O

channel

IPC channel number.

M

osdChannel->enable

Camera name display switch.

M

osdChannel->name

Camera name

M

osdChannel->pos

Camera name display position.

M

osdTime->enable

Camera time display switch.

M

osdTime->pos

Camera time display position.

M



Return data description

Return data correctly
[

]

{

}

"cmd": "SetOsd",
"code": 0,
"value": {
"rspCode": 200
}

Field description

Field

description

rspCode

Response code

3.4.5 GetIsp


Interface Description

It is used to get configuration of Isp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetIsp&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetIsp",
"action":1,
"param":{
"channel":0
}
}
]
Field description
Field

Description

M/O

channel

IPC channel number

M



Return data description

Return data correctly
[

{

"cmd" : "GetIsp",
"code" : 0,
"initial" : {
"Isp" : {

}

"antiFlicker" : "Off",
"backLight" : "Off",
"bd_day" : {
"bright" : 128,
"dark" : 128,
"mode" : "Auto"
},
"bd_led_color" : {
"bright" : 128,
"dark" : 128,
"mode" : "Auto"
},
"bd_night" : {
"bright" : 128,
"dark" : 128,
"mode" : "Auto"
},
"blc" : 128,
"blueGain" : 128,
"cdsType" : 1,
"channel" : 0,
"constantFrameRate" : 0,
"dayNight" : "Auto",
"dayNightThreshold" : 0,
"drc" : 128,
"exposure" : "Auto",
"gain" : {
"max" : 62,
"min" : 1
},
"mirroring" : 0,
"nr3d" : 1,
"redGain" : 128,
"rotation" : 0,
"shutter" : {
"max" : 125,
"min" : 0
},
"whiteBalance" : "Auto"

},
"range" : {
"Isp" : {
"antiFlicker" : [ "Other", "50HZ", "60HZ", "Off" ],

"backLight" : [ "Off", "BackLightControl", "DynamicRangeControl" ],
"bd_day" : {
"bright" : {
"max" : 255,
"min" : 0
},
"dark" : {
"max" : 255,
"min" : 0
},
"mode" : [ "Auto", "Manual" ]
},
"bd_led_color" : {
"bright" : {
"max" : 255,
"min" : 0
},
"dark" : {
"max" : 255,
"min" : 0
},
"mode" : [ "Auto", "Manual" ]
},
"bd_night" : {
"bright" : {
"max" : 255,
"min" : 0
},
"dark" : {
"max" : 255,
"min" : 0
},
"mode" : [ "Auto", "Manual" ]
},
"blc" : {
"max" : 255,
"min" : 0
},
"blueGain" : {
"max" : 255,
"min" : 0
},
"cdsType" : "boolean",
"channel" : 0,

}

"constantFrameRate" : [ 0, 1 ],
"dayNight" : [ "Auto", "Color", "Black&White" ],
"dayNightThreshold" : {
"max" : 0,
"min" : 0
},
"drc" : {
"max" : 255,
"min" : 0
},
"exposure" : [ "Auto", "LowNoise", "Anti-Smearing", "Manual" ],
"gain" : {
"max" : 100,
"min" : 1
},
"mirroring" : "boolean",
"nr3d" : "boolean",
"redGain" : {
"max" : 255,
"min" : 0
},
"rotation" : "boolean",
"shutter" : {
"max" : 125,
"min" : 0
},
"whiteBalance" : [ "Auto", "Manual" ]

},
"value" : {
"Isp" : {
"antiFlicker" : "Off",
"backLight" : "Off",
"bd_day" : {
"bright" : 128,
"dark" : 128,
"mode" : "Auto"
},
"bd_led_color" : {
"bright" : 0,
"dark" : 0,
"mode" : "Auto"
},
"bd_night" : {

"bright" : 128,
"dark" : 128,
"mode" : "Auto"

]

}

}

}

},
"blc" : 128,
"blueGain" : 128,
"cdsType" : 0,
"channel" : 0,
"constantFrameRate" : 1,
"dayNight" : "Auto",
"dayNightThreshold" : 73,
"drc" : 128,
"exposure" : "Auto",
"gain" : {
"max" : 62,
"min" : 1
},
"mirroring" : 0,
"nr3d" : 1,
"redGain" : 128,
"rotation" : 0,
"shutter" : {
"max" : 125,
"min" : 0
},
"whiteBalance" : "Auto"

Field description
Field

description

antiFlicker

Flicker prevention,[ "Outdoor", "50HZ", "60HZ", "Off" ]

exposure

Exposure mode,
[ "Auto", "LowOise", "Anti-Smearing", "Manual" ]

gain

When the value of exposure is LowOise or Manual, the

(Depend on

gain field is effective.

exposure)
shutter

When the value of exposure is Anti-Smearing or Manual,

(Depend on

the shutter field is effective.

exposure)
whiteBalance

White Balance,[ "Auto", "Manual" ]

blueGain

When the value of whiteBalance is Anti-Smearing or

(Depend on

Manual, the blueGain field is effective.

whiteBalance)
redGain

When the value of whiteBalance is Anti-Smearing or

(Depend on

Manual, the redGain field is effective.

whiteBalance)
dayNight

Day&Night,[ "Auto", "Color", "Black&White" ]

backLight

Backlight compensation,
[ "Off", "BackLightControl", "DynamicRangeControl" ]

Blc

When the value of backLight is BackLightControl, the blc

(Depend on

field is effective.

backLight)
drc

When the value of backLight is DynamicRangeControl, the

(Depend on

drc field is effective.

backLight)
nr3d
mirroring

Video mirroring.

rotation

Video rotation.

cdsType

Soft light sensitive switch, off when the hard light sensitive
effect, can use the day and night switching threshold
adjustment, open when the soft light sensitive effect, can
use the day and night switching sensitivity adjustment

constantFrameRate

Fixed frame rate switch, when on, to the video fluency
priority, when off to the quality of the picture priority

3.4.6 SetIsp


Interface Description

It is used to set configuration of Isp.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetIsp&token=TOKEN

POST Data

Data example
[{
"cmd": "SetIsp",
"action": 0,
"param": {
"Isp": {
"antiFlicker": "Off",
"backLight": "Off",
"constantFrameRate": 1,
"blc": 128,
"blueGain": 128,
"channel": 0,
"dayNight": "Auto",
"drc": 128,
"exposure": "Auto",
"cdsType": 0,
"gain": {
"max": 62,
"min": 1
},
"mirroring": 0,
"nr3d": 1,
"redGain": 128,
"rotation": 0,
"shutter": {
"max": 125,
"min": 0
},
"whiteBalance": "Auto",
"bd_day": {

"iAvailable": 1,
"bright": 128,
"dark": 128,
"mode": "Auto"

}]

}

}

},
"bd_led_color": {
"iAvailable": 0,
"bright": 0,
"dark": 0,
"mode": "Auto"
},
"bd_night": {
"iAvailable": 1,
"bright": 128,
"dark": 128,
"mode": "Auto"
},
"dayNightThreshold": 73

Field description
Field

Description

M/O

channel

IPC channel number.

M

antiFlicker

Flicker prevention,[ "Outdoor", "50HZ", "60HZ",

M

"Off" ]
exposure

Exposure mode,

M

[ "Auto", "LowOise", "Anti-Smearing", "Manual" ]
gain

When the value of exposure is LowOise or Manual,

(Depend on

the gain field is effective.

M

exposure)
shutter

When the value of exposure is Anti-Smearing or

(Depend on

Manual, the shutter field is effective.

M

exposure)
whiteBalance

White Balance,[ "Auto", "Manual" ]

M

blueGain

When the value of whiteBalance is Anti-Smearing or

M

(Depend on

Manual, the blueGain field is effective.

whiteBalance)
redGain

When the value of whiteBalance is Anti-Smearing or

(Depend on

Manual, the redGain field is effective.

M

whiteBalance)
dayNight

Day&Night,[ "Auto", "Color", "Black&White" ]

M

backLight

Backlight compensation,

M

[ "Off", "BackLightControl", "DynamicRangeControl" ]
Blc

When the value of backLight is BackLightControl, the

(Depend on

blc field is effective.

M

backLight)
Drc

When the value of backLight is

(Depend on

DynamicRangeControl, the drc field is effective.

M

backLight)
nr3d

M

mirroring

Video mirroring.

M

rotation

Video rotation.

M

cdsType

Soft light sensitive switch, off when the hard light

M

sensitive effect, can use the day and night switching
threshold adjustment, open when the soft light
sensitive effect, can use the day and night switching
sensitivity adjustment
constantFrame

Fixed frame rate switch, when on, to the video

Rate

fluency priority, when off to the quality of the picture
priority



Return data description

Return data correctly
[

{

M

]

}

"cmd" : "SetOsd",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.4.7 GetMask


Interface Description

It is used to get configuration of Mask.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetMask&token=TOKEN

POST Data

Data example
[
{
"cmd": "GetMask",
"action": 1,
"param": {
"channel": 0
}
}
]
Field description
Field

Description

M/O

channel

IPC channel number

M



Return data description

Return data correctly
[

{

"cmd" : "GetMask",
"code" : 0,
"initial" : {
"Mask" : {
"area" : [
{
"block" : {
"height" : 0,
"width" : 0,
"x" : 0,
"y" : 0
},
"screen" : {
"height" : 0,
"width" : 0
}
}
],
"channel" : 0,
"enable" : 0
}
},
"range" : {
"Mask" : {
"channel" : 0,
"enable" : "boolean",
"maxAreas" : 4
}
},
"value" : {
"Mask" : {
"area" : [
{
"block" : {
"height" : 163,
"width" : 121,
"x" : 192,
"y" : 143

}

]

}

}

}

},
"screen" : {
"height" : 480,
"width" : 640
}

],
"channel" : 0,
"enable" : 1

Field description
Field

description

enable

Video mask switch.

Block->height

Block height.

Block->width

Block width.

Block->x

Left upper X axis coordinates

Block->y

Left upper Y axis coordinates

Screen->height

Screen height.

Screen->width

Screen width.

3.4.8 SetMask


Interface Description

It is used to set configuration of Mask.


Interface call instructions

Request URL


POST Data

Data example
[

https://IPC_IP/api.cgi?cmd=SetMask&token=TOKEN

{

"cmd":"SetMask",
"action":0,
"param":{
"Mask":{
"channel":0,
"enable":1,
"area":[
{
"screen":{
"height":720,
"width":1280
},
"block":{
"x":110,
"y":95,
"width":36,
"height":166
}
},
{
"screen":{
"height":720,
"width":1280
},
"block":{
"x":251,
"y":100,
"width":54,
"height":175
}
},
{
"screen":{
"height":720,
"width":1280
},
"block":{
"x":425,
"y":102,
"width":23,
"height":211
}
},

{

}

}

]

}

]

}

"screen":{
"height":720,
"width":1280
},
"block":{
"x":632,
"y":88,
"width":51,
"height":245
}

Field description
Field

Description

M/O

channel

IPC channel number.

M

enable

Video mask switch.

M

block->height

Block height.

M

block->width

Block width.

M

block->x

Left upper X axis coordinates

M

block->y

Left upper Y axis coordinates

M

screen->height

Screen height.

M

screen->width

Screen width.

M



Return data description

Return data correctly
[

{

"cmd" : "SetMask",
"code" : 0,
"value" : {
"rspCode" : 200
}

]

}

Field description
Field

description

rspCode

Response code

3.4.9 GetCrop


Interface Description

It is used to get configuration of Crop.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetCrop&token=TOKEN

POST Data

Data example
[{
"cmd": "GetCrop",
"action": 0, //NVR
"param": {
//NVR
"channel": 0 //NVR
}
}]
Field description
Field



Description

Return data description

Return data correctly
[

{

M/O

]

}

"cmd" : "GetCrop",
"code" : 0,
"initial" : {
"Crop" : {
"cropHeight" : 480,
"cropWidth" : 640,
"mainHeight" : 1920,
"mainWidth" : 2560,
"minHeight" : 480,
"minWidth" : 640,
"topLeftX" : 960,
"topLeftY" : 720
}
},
"range" : {
"Crop" : {
"topLeftX" : {
"max" : 1920,
"min" : 0
},
"topLeftY" : {
"max" : 1440,
"min" : 0
}
}
},
"value" : {
"Crop" : {
"channel" : 0,
//NVR
"cropHeight" : 480,
"cropWidth" : 640,
"mainHeight" : 1920,
"mainWidth" : 2560,
"minHeight" : 480,
"minWidth" : 640,
"topLeftX" : 960,
"topLeftY" : 720
}
}

Field description

Field

description

rspCode

Response code

minHeight

Minimum height of crop area

minWidth

Minimum width of crop area

mainHeight

height of Main stream

mainWidth

width of Main stream

cropHeight

height of crop area

cropWidth

width of crop area

topLeftY

Distance between the upper left corner of the crop area and
the upper boundary

topLeftX

Distance between the upper left corner of the crop area and
the left boundary

3.4.10 SetCrop


Interface Description

It is used to set configuration of Crop.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetCrop&token=TOKEN

POST Data

Data example
[{
"cmd": "SetCrop",
"action": 0,
"param": {
"Crop": {
"channel":0, //NVR
"screenWidth": 2560,
"screenHeight": 1920,
"cropWidth": 640,
"cropHeight": 480,

}]

}

}

"topLeftX": 960,
"topLeftY": 720

Field description
Field



Description

M/O

Return data description

Return data correctly
[

]

{

}

"cmd" : "SetCrop",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

minHeight

Minimum height of crop area

minWidth

Minimum width of crop area

mainHeight

height of Main stream

mainWidth

width of Main stream

cropHeight

height of crop area

cropWidth

width of crop area

topLeftY

Distance between the upper left corner of the crop area and
the upper boundary

topLeftX

Distance between the upper left corner of the crop area and

the left boundary

3.4.11 GetStitch


Interface Description

This command is used for "stitching binocular" IPC to adjust the
stitching picture


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetStitch &token=TOKEN

POST Data

Data example
[{
"cmd": "GetStitch",
"action": 1
}]
Field description
Field



Description

Return data description

Return data correctly
[

{

"cmd" : "GetStitch",
"code" : 0,
"initial" : {
"stitch" : {
"distance" : 2.0,
"stitchXMove" : 0,

M/O

"stitchYMove" : 0

]

}

}
},
"range" : {
"stitch" : {
"distance" : {
"max" : 20.0,
"min" : 2.0
},
"stitchXMove" : {
"max" : 100,
"min" : -100
},
"stitchYMove" : {
"max" : -100,
"min" : 100
}
}
},
"value" : {
"stitch" : {
"distance" : 8.100000381469727,
"stitchXMove" : 5,
"stitchYMove" : 3
}
}

Field description
Field

description

distance

Distance between images

stitchXMove

Adjust pixels horizontally

stitchYMove

Adjust pixels vertically

3.4.12 SetStitch


Interface Description

It is used to set configuration of Stitch.



Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetStitch &token=TOKEN

POST Data

Data example
[{
"cmd": "setStitch",
"param": {
"stitch": {
"distance": 8.1,
"stitchXMove": 5,
"stitchYMove": 3
}

}]

}

Field description
Field

Description

M/O

distance

Distance between images

M

stitchXMove

Adjust pixels horizontally

M

stitchYMove

Adjust pixels vertically

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetStitch",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description

Field

description

3.5 Enc
3.5.1 GetEnc


Interface Description

It is used to get configuration of Enc.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetEnc&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetEnc",
"action":1,
"param":{
"channel":0
}
}
]
Field description
Field

Description

M/O

channel

IPC channel number

M



Return data description

Return data correctly
[

{

"cmd" : "GetEnc",

"code" : 0,
"initial" : {
"Enc" : {
"audio" : 0,
"channel" : 0,
"mainStream" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2,
"height" : 2160,
"profile" : "High",
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4,
"height" : 360,
"profile" : "High",
"size" : "640*360",
"vType" : "h264",
"width" : 640
}
}
},
"range" : {
"Enc" : [
{
"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 4096, 5120, 6144, 7168, 8192 ],
"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},

"height" : 2160,
"profile" : [ "Base", "Main", "High" ],
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840

},
{

7168, 8192 ],

},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 1024, 1536, 2048, 3072, 4096, 5120, 6144,
"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 1440,
"profile" : [ "Base", "Main", "High" ],
"size" : "2560*1440",

"vType" : "h264",
"width" : 2560

},
{

7168, 8192 ],

},
"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

"audio" : "boolean",
"chnBit" : 1,
"mainStream" : {
"bitRate" : [ 1024, 1536, 2048, 3072, 4096, 5120, 6144,

},

"default" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2
},
"frameRate" : [ 25, 22, 20, 18, 16, 15, 12, 10, 8, 6, 4, 2 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 1296,
"profile" : [ "Base", "Main", "High" ],
"size" : "2304*1296",
"vType" : "h264",
"width" : 2304

]

}

"subStream" : {
"bitRate" : [ 64, 128, 160, 192, 256, 384, 512 ],
"default" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4
},
"frameRate" : [ 15, 10, 7, 4 ],
"gop" : {
"max" : 4,
"min" : 1
},
"height" : 360,
"profile" : [ "Base", "Main", "High" ],
"size" : "640*360",
"vType" : "h264",
"width" : 640
}

},
"value" : {
"Enc" : {
"audio" : 1,
"channel" : 0,
"mainStream" : {
"bitRate" : 6144,
"frameRate" : 25,
"gop" : 2,
"height" : 2160,
"profile" : "High",
"size" : "3840*2160",
"vType" : "h265",
"width" : 3840
},
"subStream" : {
"bitRate" : 256,
"frameRate" : 10,
"gop" : 4,
"height" : 360,
"profile" : "High",
"size" : "640*360",
"vType" : "h264",
"width" : 640

]

}

}

}

}

Field description
Field

description

audio

Audio switch.

mainStream->bitRate

Bit rate of main stream.

mainStream->frameRate

FrameRate of main stream.

mainStream->profile

H.264 Profile.

mainStream->size

Resolution.

subStream->bitRate

Bit rate of sub stream.

subStream->frameRate

FrameRate of sub stream.

subStream->profile

H.264 Profile.

subStream->size

Resolution.

mainstream->height

Height of mainstream
(This item is internal use only, and no needed for cmd
“SetEnc”)

mainstream->resolution

Resolution enumerate of mainstream
(This item is internal use only, and no needed for cmd
“SetEnc”)

mainstream->width

Width of mainstream
(This item is internal use only, and no needed for cmd
“SetEnc”)

substeram->height

Height of substream
(This item is internal use only, and no needed for cmd
“SetEnc”)

substeram->resolution

Resolution enumerate of substream
(This item is internal use only, and no needed for
cmd “SetEnc”)

substeram->width

Width of substream
(This item is internal use only, and no needed for cmd
“SetEnc”)

3.5.2 SetEnc


Interface Description

It is used to set configuration of Enc.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetEnc&token=TOKEN

POST Data

Data example
[{
"cmd": "SetEnc",
"action": 0,
"param": {
"Enc": {
"channel": 0,
"audio": 1,
"mainStream": {
"size": "2560*1920",
"frameRate": 20,
"bitRate": 4096,
"profile": "High"
},
"subStream": {
"size": "640*480",
"frameRate": 10,
"bitRate": 256,
"profile": "High"
}

}

}

}]
Field description
Field

Description

M/O

channel

IPC channel number.

M

audio

Audio switch.

M

mainStream->bitRate

Bit rate of main stream.

M

mainStream->frameRate

FrameRate of main stream.

M

mainStream->profile

H.264 Profile.

M

mainStream->size

Resolution.

M

subStream->bitRate

Bit rate of sub stream.

M

subStream->frameRate

FrameRate of sub stream.

M

subStream->profile

H.264 Profile.

M

subStream->size

Resolution.

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetEnc",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.6 Record
3.6.1 GetRec


Interface Description

It is used to get configuration of record.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetRec&token=TOKEN

Post Data

Data example
[
{
"cmd":"GetRec",
"action":1,
"param":{
"channel":0
}
}
]
Field description
Field

Description

channel

Index of channel



Return data description

Return data correctly
[

{

"cmd" : "GetRec",
"code" : 0,
"initial" : {
"Rec" : {
"channel" : 0,

M/O
M

"overwrite" : 1,
"packTime" : "30 Minutes", //NVR
"postRec" : "1 Minute",
"preRec" : 1,
"schedule" : {
"enable" : 1,
"table" :
"22222222222222222222222222222222222222222222222222222222222222222
222222222222222222222222222222222222222222222222222222222222222222
2222222222222222222222222222222222222"
}
}
},
"range" : {
"Rec" : {
"channel" : 0,
"overwrite" : "boolean",
"packTime" : [ "30 Minutes", "45 Minutes", "60 Minutes" ],
//NVR
"postRec" : [ "15 Seconds", "30 Seconds", "1 Minute", "10
Minutes" ],
"preRec" : "boolean",
"schedule" : {
"enable" : "boolean"
}
}
},
"value" : {
"Rec" : {
"channel" : 0,
"overwrite" : 1,
"packTime" : "60 Minutes", //NVR
"postRec" : "1 Minute",
"preRec" : 1,
"schedule" : {
"enable" : 1,
"table" :
"22222222222222222222222222222222222222222222222222222222222222222
222222222222222222222222222222222222222222222222222222222222222222
2222222222222222222222222222222222222"
}
}
}
}

]
Field description
Field

description

channel

Channel number

overwrite

Whether the video files can be overwritten

postRec

Post record time

preRec

Enable pre record

enable

Enable scheduled recording

table

A string with the length of 7 days*24 hours. Each byte in this
hour indicates whether it’s recording. With the value of 0,
the recording is off, otherwise the recording is on.

Note: This command supports model 52X only
Note:
When scheduleVersion ver=1 in the capability set, use cmd “GetRecV20”

3.6.2 SetRec


Interface Description

It is used to set configuration of record.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetRec&token=TOKEN

Post Data

Data example
[
{
"cmd":"SetRec",
"param":
{

"Rec" :
{
"channel" : 0,
"overwrite" : 1,
"postRec" : "30 Seconds",
"preRec" : 1,
"schedule" :
{
"enable" : 1,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
}
}
}
}
]
Field description
Field

Description

channel

See also GetRec

M

overwrite

See also GetRec

O

postRec

See also GetRec

O

preRec

See also GetRec

O

enable

See also GetRec

O

table

See also GetRec

O

Note:
When scheduleVersion ver=1 in the capability set, use cmd “SetRecV20”


Return data description

Return data correctly
[

{

"cmd" : "SetRec",
"code" : 0,
"value" : {
"rspCode" : 200

M/O

]

}

}

Field description
Field

description

3.6.3 GetRecV20



Interface Description

It is used to get configuration of record.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetRecV20&token=TOKEN

Post Data

Data example
[
{
"cmd":"GetRecV20",
"action":1,
"param":{
"channel":0
}
}
]
Field description
Field

Description

channel

Index of channel



Return data description

Return data correctly
[

{

M/O
M

"cmd" : "GetRecV20",
"code" : 0,
"initial" : {
"Rec" : {
"enable" : 1,
"overwrite" : 1,
"packTime" : "60 Minutes",
"postRec" : "2 Minutes",
"preRec" : 1,
"saveDay" : 7,
"schedule" : {
"channel" : 0,
"table" : {
//NVR
"AI_PEOPLE" :
"00000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000",
//NVR
"AI_VEHICLE" :
"00000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000",
"MD" :
"00000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000",
"TIMING" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
}
}
}
},
"range" : {
"Rec" : {
"enable" : "boolean",
"overwrite" : "boolean",
"packTime" : [ "30 Minutes", "45 Minutes", "60
Minutes" ],
"postRec" : [ "1 Minute", "2 Minutes", "5 Minutes",
"10 Minutes" ],
"preRec" : "boolean",
"schedule" : {
"channel" : 0,

}

}

"table" : {
"AI_PEOPLE" : "boolean", //NVR
"AI_VEHICLE" : "boolean", //NVR
"MD" : "boolean",
"TIMING" : "boolean"
}

},
"value" : {
"Rec" : {
"enable" : 1,
"overwrite" : 1,
"packTime" : "60 Minutes",
"postRec" : "1 Minute",
"preRec" : 1,
"saveDay" : 30,
"schedule" : {
"channel" : 0,
"table" : {
//NVR
"AI_PEOPLE" :
"00000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000",
//NVR
"AI_VEHICLE" :
"00000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000",
"MD" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111",
"TIMING" :
"00000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000"
}
}
}
}
}
]
Field description

Field

description

channel

Channel number

overwrite

Whether the video files can be overwritten

postRec

Post record time

preRec

Enable pre record

enable

Enable scheduled recording

table

A string with the length of 7 days*24 hours. Each byte in this
hour indicates whether it’s recording. With the value of 0,
the recording is off, otherwise the recording is on.

PackTime

Packaging cycle

saveDay

Customize the retention days of video coverage

3.6.4 SetRecV20



Interface Description

It is used to set configuration of record.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetRecV20&token=TOKEN

Post Data

Data example
[{
"cmd": "SetRecV20",
"param": {
"Rec": {
"overwrite": 1,
"postRec": "30 Seconds",
"preRec": 1,
"saveDay": 30,

"schedule": {
"enable": 1,
"channel": 0,
"table": {
"MD":
"10011111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111100",
"TIMING":
"10111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
}
}
}
}
}]
Field description
Field

Description

channel

See also GetRec

M

overwrite

See also GetRec

O

postRec

See also GetRec

O

preRec

See also GetRec

O

enable

See also GetRec

O

table

See also GetRec

O

saveDay

See also GetRec

O



Return data description

Return data correctly
[

{

}

"cmd" : "SetRecV20",
"code" : 0,
"value" : {
"rspCode" : 200
}

M/O

]
Field description
Field

description

3.6.5 Search


Interface Description

It is used to search video files.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=Search&token=TOKEN

Post Data

Data example
[{
"cmd": "Search",
"action":0,
"param": {
"Search": {
"channel": 0,
"onlyStatus": 1,
"streamType": "main",
"StartTime": {
"year": 2020,
"mon": 12,
"day": 21,
"hour": 12,
"min": 26,
"sec": 1
},
"EndTime": {
"year": 2020,

"mon": 12,
"day": 21,
"hour": 12,
"min": 34,
"sec": 1

}

}

}]

}

Field description
Field

Description

M/O

channel

Channel number

M

onlyStatus

The value 1 means it will only get the data of dates

M

instead of requiring the details of the files. The value 0
means it will get the details information of a certain
day.
streamType

The stream type of the recordings, “main” is for

M

searching main stream, otherwise is for searching sub
stream.
startTime

The start time of the recordings

M

endTime

The end time of the recordings

M

Noted: Searching a big amount of files might lead to searching time
out


Return data description

Return data correctly
[

{

"cmd" : "Search",
"code" : 0,
"value" : {
"SearchResult" : {
"Status" : [
{
"mon" : 12,

}

]

}

}

}

"table" : "1111000000000011110011110000000",
"year" : 2020

],
"channel" : 0

Field description
Field

description

mon

Record date(month)

year

Record date(year)

channel

channel number

table

Each byte in the string represent the days of the month,
indicating whether it’s recording. With the value of 0, the
recording is off, with the value of 1, the recording is on.

Return data correctly (onlyStatus 为 0)
[

{

"cmd" : "Search",
"code" : 0,
"value" : {
"SearchResult" : {
"File" : [
{
"EndTime" : {
"day" : 21,
"hour" : 20,
"min" : 21,
"mon" : 12,
"sec" : 23,
"year" : 2020
},
"StartTime" : {
"day" : 21,
"hour" : 12,

"min" : 20,
"mon" : 12,
"sec" : 57,
"year" : 2020

},
"frameRate" : 0,
"height" : 0,
"name" :
"Mp4Record/2020-12-21/RecM01_20201221_122057_202123_6D28C08_E4B0AE.
mp4",
"size" : 14987438,
"type" : "main",
"width" : 0
},
{
"EndTime" : {
"day" : 21,
"hour" : 12,
"min" : 33,
"mon" : 12,
"sec" : 42,
"year" : 2020
},
"StartTime" : {
"day" : 21,
"hour" : 12,
"min" : 33,
"mon" : 12,
"sec" : 39,
"year" : 2020
},
"frameRate" : 0,
"height" : 0,
"name" :
"Mp4Record/2020-12-21/RecM01_20201221_123339_123342_6D28808_2D9AF5.
mp4",
"size" : 2988789,
"type" : "main",
"width" : 0
},
{
"EndTime" : {
"day" : 21,
"hour" : 12,

"min" : 38,
"mon" : 12,
"sec" : 49,
"year" : 2020

},
"StartTime" : {
"day" : 21,
"hour" : 12,
"min" : 33,
"mon" : 12,
"sec" : 49,
"year" : 2020
},
"frameRate" : 0,
"height" : 0,
"name" :
"Mp4Record/2020-12-21/RecM01_20201221_123349_123849_6D28C18_98ADFF
F.mp4",
"size" : 160096255,
"type" : "main",
"width" : 0
}
],
"Status" : [
{
"mon" : 12,
"table" : "0000000000000000111110000000000",
"year" : 2020
}
],
"channel" : 0
}
}
}
]
Field description
Field

description

frameRate

Frame rate

height

The height of the image

width

The width of the image

name

File name

size

File size

type

Stream type

StartTime

The start time of the recordings

EndTime

The end time of the recordings

mon

Month

year

Year

channel

Channel number

table

Each byte in the string represent the days of the month,
indicating whether it’s recording. With the value of 0, the
recording is off, with the value of 1, the recording is on.

3.6.6 Download


Interface Description

It is used to download video files.


Interface call instructions

Request URL

https://192.168.1.238/cgi-bin/api.cgi?cmd=Download&sourc
e=Mp4Record/2020-12-21/RecM01_20201221_121551_1215
53_6D28808_2240A8.mp4&output=Mp4Record_2020-12-21
_RecM01_20201221_121551_121553_6D28808_2240A8.mp
4&token=TOKEN



Request parameter description
Parameter
source
output



M/O
M
M

Return data description

Description
The name of the source file
Video files storage name

Return data correctly
Content-Type: apolication/octet-stream
Content-Length: 2244776
Last-Modified: Mon, 21 Dec 2020 03:15:56 GMT
Connection: keep-alive
Content-Disposition: attachment;filename=Mp4Record_2020-12-21_RecM01_202
01221_121551_121553_6D28808_2240A8.mp4
ETag: "5fe0136c-2240a8"
X-Frame-Options: SAMEORIGIN
X-XSS-Protection: 1; mode=block
X-Content-Type-Options: nosniff
Accept-Ranges: bytes
.............................(file content)
Field description
Field

description

filename

The name of the video file

3.6.7 Snap


Interface Description

It is used to capture an image.


Interface call instructions

Request URL

https://192.168.1.238/cgi-bin/api.cgi?cmd=Snap&channel=0
&rs=flsYJfZgM6RTB_os&token=TOKEN



Request parameter description
Parameter
channel
rs



M/O
M
M

Return data description

Description
Channel number
Random character with fixed length. It’s used to
prevent browser caching.

Return data correctly
Content-Type: image/jpeg
Content-Length: 171648
Connection: keep-alive
X-Frame-Options: SAMEORIGIN
X-XSS-Protection: 1; mode=block
X-Content-Type-Options: nosniff
.............................(File content)
Field description
Field

description

name

Picture name

3.6.8 Playback



Interface Description

It is used to get configuration of Playback.


Interface call instructions

Request URL

https://192.168.1.238/cgi-bin/api.cgi?cmd=Playback&source=
Mp4Record/2020-12-22/RecM01_20201222_075939_080140
_6D28808_1A468F9.mp4&output=Mp4Record/2020-12-22/R
ecM01_20201222_075939_080140_6D28808_1A468F9.mp4



&token=TOKEN
Request parameter description
Parameter
source
output



M/O
M
M

Return data description

Return data correctly

Description
The name of the source file
Video files storage name

Content-Type: apolication/octet-stream
Content-Length: 2244776
Last-Modified: Mon, 21 Dec 2020 03:15:56 GMT
Connection: keep-alive
Content-Disposition: attachment;filename=Mp4Record/2020-12-22/RecM01_2020
1222_075939_080140_6D28808_1A468F9.mp4
ETag: "5fe0136c-2240a8"
X-Frame-Options: SAMEORIGIN
X-XSS-Protection: 1; mode=block
X-Content-Type-Options: nosniff
Accept-Ranges: bytes
.............................(file content)

3.6.9 NvrDownload



Interface Description

It is used to Nvr Download.


Interface call instructions

Request URL


https://NVR_IP/api.cgi?cmd= NvrDownload&token=TOKEN

Post Data

Data example
[{
"cmd": "NvrDownload",
"action": 1,
"param": {
"NvrDownload": {
"channel": 0,
"streamType": "sub",
"StartTime": {
"year": 2022,
"mon": 8,
"day": 9,
"hour": 0,
"min": 1,

"sec": 21

}]

}

}

},
"EndTime": {
"year": 2022,
"mon": 8,
"day": 9,
"hour": 0,
"min": 1,
"sec": 41
}

Field description
Field

Description

StartTime

Start time

O

EndTime

End time

O

streamType

The bitstream type of the file to download,main or

O

sub


Return data description

Return data correctly
[

{

"cmd" : "NvrDownload",
"code" : 0,
"value" : {
"fileCount" : 10,
"fileList" : [
{
"fileName" : "fragment_01_20201224101100.mp4",
"fileSize" : "2122011"
},
{
"fileName" : "fragment_01_20201224100925.mp4",
"fileSize" : "39858411"
},
{
"fileName" : "fragment_01_20201224101151.mp4",

M/O

},
{

},
{

},
{

},
{

},
{

},
{

},
{

]

}

}

]

}

"fileSize" : "2728197"

"fileName" : "fragment_01_20201224100848.mp4",
"fileSize" : "14158847"

"fileName" : "fragment_01_20201224100800.mp4",
"fileSize" : "11221990"

"fileName" : "fragment_01_20201224100834.mp4",
"fileSize" : "2303298"

"fileName" : "fragment_01_20201224101201.mp4",
"fileSize" : "7295191"

"fileName" : "fragment_01_20201224101135.mp4",
"fileSize" : "2182079"

"fileName" : "fragment_01_20201224101125.mp4",
"fileSize" : "2222880"

"fileName" : "fragment_01_20201224101222.mp4",
"fileSize" : "18956748"

Field description
Field

description

Filename

name of file

File size

Szie of file

3.7 PTZ


Note :Only for devices with PTZ capabilities

3.7.1 GetPtzPreset


Interface Description

It is used to get configuration of Ptz Preset.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetPtzPreset&token=TOKEN

POST Data

Data example
[
{
"cmd": "GetPtzPreset",
"action": 1,
"param": {
"channel": 0
}
}
]
Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

{

"cmd" : "GetPtzPreset",
"code" : 0,
"initial" : {

"PtzPreset" : [
{
"channel" : 0,
"enable" : 1,
"id" : 1,
"name" : "pos1"
},
{
"channel" : 0,
"enable" : 1,
"id" : 2,
"name" : "pos1"
},
{
"channel" : 0,
"enable" : 0,
"id" : 3,
"name" : ""
},
{
"channel" : 0,
"enable" : 0,
"id" : 4,
"name" : ""
},
{
"channel" : 0,
"enable" : 0,
"id" : 5,
"name" : ""
},
{
"channel" : 0,
"enable" : 0,
"id" : 6,
"name" : ""
},
{
"channel" : 0,
"enable" : 0,
"id" : 7,
"name" : ""
},
{

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 8,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 9,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 10,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 11,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 12,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 13,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 14,
"name" : ""

"channel" : 0,
"enable" : 0,

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"id" : 15,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 16,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 17,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 18,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 19,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 20,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 21,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 22,
"name" : ""

},
{

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 23,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 24,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 25,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 26,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 27,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 28,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 29,
"name" : ""

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 30,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 31,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 32,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 33,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 34,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 35,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 36,
"name" : ""

"channel" : 0,
"enable" : 0,

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"id" : 37,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 38,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 39,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 40,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 41,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 42,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 43,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 44,
"name" : ""

},
{

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 45,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 46,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 47,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 48,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 49,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 50,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 51,
"name" : ""

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 52,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 53,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 54,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 55,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 56,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 57,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 58,
"name" : ""

"channel" : 0,
"enable" : 0,

},
{

},
{

},
{

},
{

},
{

]

}

"id" : 59,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 60,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 61,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 62,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 63,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 64,
"name" : ""

},
"range" : {
"PtzPreset" : {
"channel" : 0,
"enable" : "boolean",
"id" : {
"max" : 64,
"min" : 1
},
"name" : {

}

}

"maxLen" : 31

},
"value" : {
"PtzPreset" : [
{
"channel" : 0,
"enable" : 1,
"id" : 1,
"name" : "pos1"
},
{
"channel" : 0,
"enable" : 1,
"id" : 2,
"name" : "pos1"
},
{
"channel" : 0,
"enable" : 0,
"id" : 3,
"name" : ""
},
{
"channel" : 0,
"enable" : 0,
"id" : 4,
"name" : ""
},
{
"channel" : 0,
"enable" : 0,
"id" : 5,
"name" : ""
},
{
"channel" : 0,
"enable" : 0,
"id" : 6,
"name" : ""
},
{
"channel" : 0,

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"enable" : 0,
"id" : 7,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 8,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 9,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 10,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 11,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 12,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 13,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 14,

},
{

},
{

},
{

},
{

},
{

},
{

},
{

},

"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 15,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 16,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 17,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 18,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 19,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 20,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 21,
"name" : ""

{

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 22,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 23,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 24,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 25,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 26,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 27,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 28,
"name" : ""

"channel" : 0,

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"enable" : 0,
"id" : 29,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 30,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 31,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 32,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 33,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 34,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 35,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 36,

},
{

},
{

},
{

},
{

},
{

},
{

},
{

},

"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 37,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 38,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 39,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 40,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 41,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 42,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 43,
"name" : ""

{

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 44,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 45,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 46,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 47,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 48,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 49,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 50,
"name" : ""

"channel" : 0,

},
{

},
{

},
{

},
{

},
{

},
{

},
{

"enable" : 0,
"id" : 51,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 52,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 53,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 54,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 55,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 56,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 57,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 58,

},
{

},
{

},
{

},
{

},
{

},
{

]

}

}

]

}

Field description

"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 59,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 60,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 61,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 62,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 63,
"name" : ""

"channel" : 0,
"enable" : 0,
"id" : 64,
"name" : ""

Field

description

enable

Preset switch, The value of 1 represents the open, and the 0
is the opposite.

id

ID number of the Preset.

name

Name of the Preset.

3.7.2 SetPtzPreset


Interface Description

It is used to set configuration of PtzPreset.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetPtzPreset&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetPtzPreset",
"action":0,
"param":{
"PtzPreset":{
"channel":0,
"enable":1,
"id":1,
"name":"pos1"
}
}
}
]
Field description
Field

Description

M/O

channel

IPC channel number.

M

enable

1 means that is on, and 0 means it’s off. If that field

O

doesn’t exist it means only the name of the preset can
be revised.
id

ID number of preset. Range [1~64].

M

name

Name of preset, limit 1~31 characters.

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "SetPtzPreset",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.7.3 GetPtzPatrol


Interface Description

It is used to get configuration of PtzPatrol.


Interface call instructions

Request URL


POST Data

Data example

https://IPC_IP/api.cgi?cmd=GetPtzPatrol&token=TOKEN

[

{

"cmd":"GetPtzPatrol",
"action":1,
"param":{
"channel":0
}

}

]

Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

{

"cmd" : "GetPtzPatrol",
"code" : 0,
"range" : {
"PtzPatrol" : {
"enable" : "boolean",
"id" : {
"max" : 1,
"min" : 1
},
"name" : {
"maxLen" : 31
},
"preset" : {
"dwellTime" : {
"max" : 30,
"min" : 1
},
"id" : {
"max" : 64,
"min" : 1
},
"speed" : {
"max" : 64,
"min" : 1

}

}

},
"running" : "boolean"

},
"value" : {
"PtzPatrol" : [
{
"channel" : 0,
"enable" : 1,
"id" : 1,
"name" : "cruise1",
"preset" : [
{
"dwellTime" : 3,
"id" : 1,
"speed" : 10
},
{
"dwellTime" : 4,
"id" : 2,
"speed" : 20
}
],
"running" : 0
},
{
"channel" : 0,
"enable" : 0,
"id" : 2,
"name" : "",
"preset" : [
{
"dwellTime" : 3,
"id" : 1,
"speed" : 10
},
{
"dwellTime" : 4,
"id" : 2,
"speed" : 20
}
],
"running" : 0

},
{

},
{

},
{

"channel" : 0,
"enable" : 0,
"id" : 3,
"name" : "",
"preset" : [
{
"dwellTime" : 3,
"id" : 1,
"speed" : 10
},
{
"dwellTime" : 4,
"id" : 2,
"speed" : 20
}
],
"running" : 0

"channel" : 0,
"enable" : 0,
"id" : 4,
"name" : "",
"preset" : [
{
"dwellTime" : 3,
"id" : 1,
"speed" : 10
},
{
"dwellTime" : 4,
"id" : 2,
"speed" : 20
}
],
"running" : 0

"channel" : 0,
"enable" : 0,
"id" : 5,
"name" : "",

},
{

]

}

}

]

}

"preset" : [
{
"dwellTime" : 3,
"id" : 1,
"speed" : 10
},
{
"dwellTime" : 4,
"id" : 2,
"speed" : 20
}
],
"running" : 0

"channel" : 0,
"enable" : 0,
"id" : 6,
"name" : "",
"preset" : [
{
"dwellTime" : 3,
"id" : 1,
"speed" : 10
},
{
"dwellTime" : 4,
"id" : 2,
"speed" : 20
}
],
"running" : 0

Field description
Field

description

enable

Patrol switch, The value 1 means that’s enabled, and 0
means the opposite.

id

ID number of the Patrol.

running

Whether running or not

preset->dwellTime

Patrol time

Preset->id

ID number of the preset

preset->speed

Patrol speed

name

Name of the patrol

3.7.4 SetPtzPatrol


Interface Description

It is used to set configuration of PtzPatrol.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetPtzPatrol&token=TOKEN

POST Data

Data example
[
{
"cmd":"SetPtzPatrol",
"action":0,
"param":{
"PtzPatrol":{
"channel":0,
"enable":1,
"id":1,
“running”:0,
“name”:”hello”
"preset":[
{
"dwellTime":3,
"id":1,
"speed":10
},
{

}

}

}

]

}

"dwellTime":4,
"id":2,
"speed":20

]

Field description
Field

Description

M/O

channel

IPC channel number.

M

enable

Whether enable the preset or not

M

id

ID number of Patrol.

M

Preset->dwellTime

Patrol time

M

Preset->id

ID number of preset. Range [1~64].

M

Preset->speed

Patrol speed

M

Note : Support up to 16 preset.


Return data description

Return data correctly
[

]

{

}

"cmd" : "SetPtzPatrol",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.7.5 PtzCtrl


Interface Description

It is used to control the operation of PTZ.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=PtzCtrl&token=TOKEN

POST Data

Data example
[
{
"cmd":"PtzCtrl",
"param":{
"channel":0,
"op":"Auto",
"speed":32
}
},
{
"cmd":"PtzCtrl",
"param":{
"channel":0,
"op":"Stop"
}
},
{
"cmd":"PtzCtrl",
"param":{
"channel":0,
"op":"ToPos",
"id":1,
"speed":32
}
}
]
Field description

Field

Description

M/O

channel

IPC channel number.

M

op

Operation to control the PTZ.

M

id

Preset id number or Patrol id number.

O

speed

PTZ running speed.

O



Return data description

Return data correctly
[

{

},
{

},
{

]

}

"cmd" : "PtzCtrl",
"code" : 0,
"value" : {
"rspCode" : 200
}

"cmd" : "PtzCtrl",
"code" : 0,
"value" : {
"rspCode" : 200
}

"cmd" : "PtzCtrl",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

Notes :
connect to the ptz command, some parameters are unneeded. you just set it "0".

the value of op is:
"Stop": PTZ stop turning.
"Left": PTZ turn left in the specified speed.
"Right": PTZ turn right in the specified speed.
"Up": PTZ turn up in the specified speed.
"Down": PTZ turn down in the specified speed.
"LeftUp": PTZ turn left-up in the specified speed.
"LeftDown": PTZ turn left-down in the specified speed.
"RightUp": PTZ turn right-up in the specified speed.
"RightDown": PTZ turn right-down in the specified speed.
"IrisDec":Iris shrink in the specified speed.
"IrisInc":Iris enlarge in the specified speed.
"ZoomDec":Zoom in in the specified speed.
"ZoomInc":Zoom out in the specified speed.
"FocusDec":Focus backwards in the specified speed.
"FocusInc":Focus forwards in the specified speed.
"Auto": PTZ turn auto in the specified speed.
"StartPatrol": PTZ patrol in the specified speed.
"StopPatrol": PTZ stop patrol.
"ToPos": PTZ turn to a specified preset in the specified speed.

3.7.6 GetPtzSerial


Interface Description

GetPtzSerial.


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd=GetPtzSerial&token=TOKEN



POST Data

Data example
[
{
"cmd": "GetPtzSerial",
"action": 1,
"param": {
"channel": 0
}
}
]
Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

{

"cmd" : "GetPtzSerial",
"code" : 0,
"initial" : {
"PtzSerial" : {
"baudRate" : 1200,
"channel" : 0,
"ctrlAddr" : 0,
"ctrlProtocol" : "PELCO_D",
"dataBit" : "CS8",
"flowCtrl" : "none",
"parity" : "none",
"stopBit" : 1
}
},
"range" : {
"PtzSerial" : {
"baudRate" : [ 1200, 2400, 4800, 9600 ],
"channel" : 0,
"ctrlAddr" : {
"max" : 64,

"min" : 1

}

]

}

},
"ctrlProtocol" : [ "PELCO_D", "PELCO_P" ],
"dataBit" : [ "CS8", "CS7", "CS6", "CS5" ],
"flowCtrl" : [ "none", "hard", "xon", "xoff" ],
"parity" : [ "none", "odd", "even" ],
"stopBit" : [ 1, 2 ]

},
"value" : {
"PtzSerial" : {
"baudRate" : 1200,
"channel" : 0,
"ctrlAddr" : 0,
"ctrlProtocol" : "PELCO_D",
"dataBit" : "CS8",
"flowCtrl" : "none",
"parity" : "none",
"stopBit" : 1
}
}

Field description
Field

description

channel

The channel number.

baudRate

The baud rate of the serial in ptz

ctrlAddr

The control address of the serial in ptz

ctrlProtocol

The control protocol of the serial in ptz

dataBit

The data bit of the serial in ptz

flowCtrl

The flow control of the serial in ptz

parity

The parity of the serial in ptz

stopBit

The stop bit of the serial in ptz

3.7.7 SetPtzSerial


Interface Description

SetPtzSerial.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetPtzSerial&token=TOKEN

POST Data

Data example
[
{
"cmd": "SetPtzSerial",
"action": 0,
"param": {
"PtzSerial": {
"channel": 0,
"baudRate": 9600,
"dataBit": "CS6",
"stopBit": 2,
"parity": "odd",
"flowCtrl": "hard",
"crtlProtocol": "PELCO_P",
"ctrlAddr": 2
}
}
}
]
Field description
Field

Description

M/O

channel

The channel number.

M

baudRate

The baud rate of the serial in ptz

O

ctrlAddr

The control address of the serial in ptz, which is

O

default equal to channel plus 1
ctrlProtocol

The control protocol of the serial in ptz, which is

O

between “PELCO_D” and “PELCO_P”
dataBit

The data bit of the serial in ptz, which is between

O

“CS8”, “CS7”, “CS6” and “CS5”
flowCtrl

The flow control of the serial in ptz, which is

O

between “none”, “hard”, “xon” and “xoff”
parity

The parity of the serial in ptz, which is between

O

“none”, “odd” and “even”
stopBit

The stop bit of the serial in ptz, which can be 1 or
2



Return data description

Return data correctly
[

]

{

}

"cmd" : " SetPtzSerial ",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.7.8 GetPtzTattern


Interface Description

GetPtzTattern.


Interface call instructions

O

Request URL


https://IPC_IP/api.cgi?cmd=GetPtzTattern&token=TOKEN

POST Data

Data example
[
{
"cmd": "GetPtzTattern",
"action": 1,
"param": {
"channel": 0
}
}
]
Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

{

"cmd" : "GetPtzTattern",
"code" : 0,
"initial" : {
"PtzTattern" : {
"channel" : 0,
"track" : [
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0
},
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0

},
{

},
{

},
{

},
{

}

]

}

"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0

"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0

"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0

"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0

},
"range" : {
"PtzTattern" : {
"track" : {
"enable" : "boolean",
"id" : {
"max" : 6,
"min" : 1
},
"name" : {
"maxLen" : 191
},
"running" : "boolean"
}
}
},
"value" : {

]

}

}

"PtzTattern" : {
"channel" : 0,
"track" : [
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0
},
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0
},
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0
},
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0
},
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0
},
{
"enable" : 0,
"id" : 1,
"name" : "",
"running" : 0
}
]
}

Field description
Field

description

channel

The channel number.

id

ID number of the track.

name

The name of the track

enable

Track switch, The value 1 means that’s enabled, and 0 means
the opposite

running

Whether running or not

3.7.9 SetPtzTattern


Interface Description

SetPtzTattern.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetPtzTattern&token=TOKEN

POST Data

Data example
[
{
"cmd": "SetPtzTattern",
"action": 0,
"param": {
"PtzTattern": {
"channel": 0,
"track": [
{
"id": 1,
"enable": 0,
"running": 0,
"name": "track1"
},

{

}

}

]

}

}

]

"id": 2,
"enable": 0,
"running": 0,
"name": "track2"

Field description
Field

Description

M/O

channel

The channel number.

M

id

ID number of the track. Range [1~6]

M

name

The name of the track

O

enable

Track switch, The value 1 means that’s enabled,

O

and 0 means the opposite
running


Whether running or not

Return data description

Return data correctly
[

]

{

}

"cmd" : " SetPtzTattern",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

O

3.7.10 GetAutoFocus


Interface Description

GetAutoFocus.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAutoFocus&token=TOKEN

POST Data

Data example
[
{
"cmd": "GetAutoFocus",
"action": 1,
"param": {
"channel": 0
}
}
]
Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

{

"cmd" : "GetAutoFocus",
"code" : 0,
"initial" : {
"AutoFocus" : {
"channel" : 0,
"disable" : 0
}
},

]

}

"range" : {
"AutoFocus" : {
"disable" : "boolean"
}
},
"value" : {
"AutoFocus" : {
"disable" : 0
}
}

Field description
Field

description

disable

Forbid the autofocus of the ptz or not

3.7.11 SetAutoFocus


Interface Description

SetAutoFocus.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetAutoFocus&token=TOKEN

POST Data

Data example
[
{
"cmd": "SetAutoFocus",
"action": 0,
"param": {
"AutoFocus": {
"channel": 0,
"disable": 1
}

}

}

]

Field description
Field

Description

M/O

disable

Forbid the autofocus of the ptz, 1 means

M

forbidding, 0 means enabling


Return data description

Return data correctly
[

]

{

}

"cmd" : " SetAutoFocus",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.7.12 GetZoomFocus


Interface Description

GetZoomFocus.


Interface call instructions

Request URL


POST Data

Data example

https://IPC_IP/api.cgi?cmd=GetZoomFocus&token=TOKEN

[{

}]

"cmd": "GetZoomFocus",
"action": 0,
"param": {
"channel": 0
}

Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "GetZoomFocus",
"code" : 0,
"value" : {
"ZoomFocus" : {
"channel" : 0,
"focus" : {
"pos" : 23
},
"zoom" : {
"pos" : 0
}
}
}

Field description
Field

description

disable

Forbid the autofocus of the ptz or not

3.7.13 StartZoomFocus


Interface Description

StartZoomFocus.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=StartZoomFocus&token=TOKEN

POST Data

Data example
[{
"cmd": "StartZoomFocus",
"action": 0,
"param": {
"ZoomFocus": {
"channel": 0,
"pos": 6,
"op": "ZoomPos"
}
}
}]
Field description
Field

Description

M/O

channel

The channel number.

M

pos

Move to the position

op

Control command



Return data description

Return data correctly
[

]

{

}

"cmd" : "StartZoomFocus",
"code" : 0,
"value" : {
"rspCode" : 200
}

O

Field description
Field

description

rspCode

Response code

3.7.14 GetPtzGuard


Interface Description

GetPtzGuard.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetPtzGuard&token=TOKEN

POST Data

Data example
[{
"cmd": "GetPtzGuard",
"action": 0,
"param": {
"channel": 0
}
}]
Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

{

"cmd" : "GetPtzGuard",
"code" : 0,
"value" : {
"PtzGuard" : {

]

}

}

}

"benable" : 1,
"bexistPos" : 1,
"channel" : 0,
"timeout" : 60

Field description
Field

description

benable

whether automatically return to guard position

bexistPos

Whether there is a guard position

channel

Device channel number

timeout

Time of automatically return to guard position

3.7.15 SetPtzGuard


Interface Description

SetPtzGuard.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetPtzGuard&token=TOKEN

POST Data

Data example
[
{
"cmd": "SetPtzGuard",
"action": 0,
"param": {
"PtzGuard": {
"channel": 0,
"cmdStr": “”,
“benable”:1,
“bexistPos”:1,

}

}

]

}

“timeout”:60,
“bSaveCurrentPos”:1

Field description
Field

Description

cmdStr

setPos/ toPos
setpos : set this pos as guard
topos: go to the guard

M/O

M

benable

whether automatically return to guard position

O

timeout

Time of automatically return to guard position

O

Can only be 60 second now
bsaveCurrentPos


Whether set this pos as guard

Return data description

Return data correctly
[

]

{

}

"cmd" : " SetPtzGuard",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.7.16 GetPtzCheckState


Interface Description

O

GetPtzCheckState.//NVR


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetPtzCheckState&token=TOKEN

POST Data

Data example
[{
"cmd": "GetPtzCheckState",
"action": 0,
"param": {
"channel": 0
}
}]
Field description
Field

Description

M/O

channel

The channel number.

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "GetPtzCheckState",
"code" : 0,
"value" : {
"PtzCheckState" : 2
}

Field description
Field

description

disable

Forbid the autofocus of the ptz or not

PtzCheckState

0:idle, 1:doing, 2:finish

3.7.17 PtzCheck


Interface Description

Ptz Check.//NVR


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=PtzCheck&token=TOKEN

POST Data

Data example
[{
"cmd": "PtzCheck",
"action": 1,
"param": {
"channel": 0
}
}]
Field description
Field

Description

channel

Index of channel



Return data description

Return data correctly
[

]

{

}

"cmd" : " PtzCheck",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description

M/O
M

Field

description

rspCode

Response code

3.8 Alarm
3.8.1 GetAlarm


Interface Description

It is used to get alarm setting.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAlarm&token=TOKEN

Post Data

Data example
[
{
"cmd":"GetAlarm",
"action":1,
"param":{
"Alarm":{
"type":"md",
"channel":0
}
}
}
]
Field description
Field

Description

channel

Index of channel

M

type

Alarm type , only support "md" now

M



Return data description

M/O

Return data correctly
[

{

"cmd" : "GetAlarm",
"code" : 0,
"initial" : {
"Alarm" : {
"channel" : 0,
"scope" : {
"cols" : 80,
"rows" : 45,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
},
"sens" : [
{
"beginHour" : 0,
"beginMin" : 0,
"endHour" : 6,
"endMin" : 0,
"sensitivity" : 9
},
{
"beginHour" : 6,
"beginMin" : 0,
"endHour" : 12,
"endMin" : 0,
"sensitivity" : 9
},
{
"beginHour" : 12,
"beginMin" : 0,

},
{

}

}

"endHour" : 18,
"endMin" : 0,
"sensitivity" : 9

"beginHour" : 18,
"beginMin" : 0,
"endHour" : 23,
"endMin" : 59,
"sensitivity" : 9

],
"type" : "md"

},
"range" : {
"Alarm" : {
"channel" : 0,
"scope" : {
"cols" : {
"max" : 80,
"min" : 80
},
"rows" : {
"max" : 45,
"min" : 45
},
"table" : {
"maxLen" : 6399
}
},
"sens" : [
{
"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0

},
{

},
{

},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 0,
"sensitivity" : {
"max" : 50,
"min" : 1
}

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 1,
"sensitivity" : {
"max" : 50,
"min" : 1
}

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {

"max" : 23,
"min" : 0

},
{

}

}

},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 2,
"sensitivity" : {
"max" : 50,
"min" : 1
}

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 3,
"sensitivity" : {
"max" : 50,
"min" : 1
}

],
"type" : "md"

},
"value" : {
"Alarm" : {
"channel" : 0,
"scope" : {

"cols" : 80,
"rows" : 45,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111110000000000000000111111111111111111111111111111111
111111111111111111111111111111100000000000000001111111111111111111
111111111111111111111111111111111111111111111000000000000000011111
111111111111111111111111111111111111111111111111111111111110000000
000000000111111111111111111111111111111111111111111111111111111111
111111100000000000000001111111111111111111111111111111111111111111
111111111111111111111000000000000000011111111111111111111111111111
111111111111111111111111111111111110000000000000000111111111111111
111111111111111111111111111111111111111111111111100000000000000001
111111111111111111111111111111111111111111111111111111111111111000
000000000000011111111111111111111111111111111111111111111111111111
111111111110000000000000000111111111111111111111111111111111111111
111111111111111111111111100000000000000001111111111111111111111111
111111111111111111111111111111111111111000000000000000011111111111
111111111111111111111111111111111111111111111111111110000000000000
000111111111111111111111111111111111111111111111111111111111111111
100000000000000001111111111111111111111111111111111111111111111111
111111111111111000000000000000011111111111111111111111111111111111
111111111111111111111111111110000000000000000111111111111111111111
111111111111111111111111111111111111111111100000000000000001111111
111111111111111111111111111111111111111111111111111111111000000000
000000011111111111111111111111111111111111111111111111111111111111
111110000000000000000111111111111111111111111111111111111111111111
111111111111111111100000000000000001111111111111111111111111111111
111111111111111111111111111111111000000000000000011111111111111111
111111111111111111111111111111111111111111111110000000000000000111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
},
"sens" : [
{
"beginHour" : 2,
"beginMin" : 0,
"endHour" : 23,
"endMin" : 0,
"id" : 0,
"sensitivity" : 9
},
{
"beginHour" : 23,
"beginMin" : 0,
"endHour" : 23,
"endMin" : 0,
"id" : 1,
"sensitivity" : 9
},
{
"beginHour" : 23,
"beginMin" : 0,
"endHour" : 23,
"endMin" : 0,
"id" : 2,
"sensitivity" : 9
},
{
"beginHour" : 23,
"beginMin" : 0,
"endHour" : 23,

}

]

}

}

}

"endMin" : 59,
"id" : 3,
"sensitivity" : 9

],
"type" : "md"

Field description
Field

description

channel

Channel number

scope

Motion detection scope, consisting of 80 columns and 45
rows. Appointed by cols and rows.

cols

The number of col

rows

The number of row

table(scope)

A string with the length of 80*45, each byte represents an
area. With the value 1 motion detection is active in that
period of time. With the value of 0 no response will be made
with any detected motion.

sens

The sensitivity settings for motion detection. It is devided
into 4 intervals by time.

beginHour

The start hour.

beginMin

The start minute.

endHour

The ending hour.

endMin

The ending minute.

sensitivity

Sensitivity

id

Section index

type

Alarm type, only “md” is supported.

Note:
When scheduleVersion ver=1 in the capability set, use cmd “GetMdAlarm”

3.8.2 SetAlarm


Interface Description

It is used to set alarm setting.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetAlarm&token=TOKEN

Post Data

Data example
[
{
"cmd":"SetAlarm",
"param":{
"Alarm" : {
"channel" : 0,
"scope" : {
"cols" : 80,
"rows" : 60,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111"
},
"sens" : [
{
"beginHour" : 0,
"beginMin" : 0,
"endHour" : 6,
"endMin" : 0,
"sensitivity" : 10
},
{
"beginHour" : 6,
"beginMin" : 0,
"endHour" : 12,
"endMin" : 0,
"sensitivity" : 10
},
{
"beginHour" : 12,
"beginMin" : 0,
"endHour" : 18,
"endMin" : 0,
"sensitivity" : 10
},
{
"beginHour" : 18,
"beginMin" : 0,
"endHour" : 23,
"endMin" : 59,
"sensitivity" : 10
}
],
"type" : "md"
}
}

]

}

Field description
Field

Description

M/O

channel

See also GetAlarm

M

scope

See also GetAlarm

O

cols

See also GetAlarm

O

rows

See also GetAlarm

O

table

See also GetAlarm

O

sens

See also GetAlarm

O

beginHour

See also GetAlarm

O

beginMin

See also GetAlarm

O

endHour

See also GetAlarm

O

endMin

See also GetAlarm

O

sensitivity

See also GetAlarm

O

id

See also GetAlarm

O

type

See also GetAlarm

M

Note:
When scheduleVersion ver=1 in the capability set, use cmd “SetMdAlarm”


Return data description

Return data correctly
[

]

{

}

"cmd" : "SetAlarm",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.8.3 GetMdAlarm



Interface Description

It is used to get md alarm setting.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetMdAlarm&token=TOKEN

Post Data

Data example
[{
"cmd": "GetMdAlarm",
"action": 1,
"param": {
"channel": 0
}
}]
Field description
Field

Description

channel

Index of channel



Return data description

Return data correctly
[

{

"cmd" : "GetMdAlarm",
"code" : 0,
"initial" : {
"MdAlarm" : {
"channel" : 0,
"newSens" : {
"sens" : [
{

M/O
M

},
{

},
{

},
{

}

"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 0,
"priority" : 0,
"sensitivity" : 0

"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 1,
"priority" : 0,
"sensitivity" : 0

"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 2,
"priority" : 0,
"sensitivity" : 0

"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 3,
"priority" : 0,
"sensitivity" : 0

],
"sensDef" : 25

},
"scope" : {
"cols" : 80,

"rows" : 60,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111"
},
"sens" : [
{
"beginHour" : 0,
"beginMin" : 0,
"endHour" : 6,
"endMin" : 0,
"id" : 0,
"sensitivity" : 9
},
{
"beginHour" : 6,
"beginMin" : 0,

},
{

},
{

}

}

"endHour" : 12,
"endMin" : 0,
"id" : 1,
"sensitivity" : 9

"beginHour" : 12,
"beginMin" : 0,
"endHour" : 18,
"endMin" : 0,
"id" : 2,
"sensitivity" : 9

"beginHour" : 18,
"beginMin" : 0,
"endHour" : 23,
"endMin" : 59,
"id" : 3,
"sensitivity" : 9

],
"useNewSens" : 1

},
"range" : {
"MdAlarm" : {
"channel" : 0,
"newSens" : {
"sens" : [
{
"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"enable" : {
"max" : 1,
"min" : 0
},
"endHour" : {

"max" : 23,
"min" : 0

},
{

},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 0,
"priority" : {
"max" : 0,
"min" : 0
},
"sensitivity" : {
"max" : 50,
"min" : 1
}

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"enable" : {
"max" : 1,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 1,
"priority" : {
"max" : 0,
"min" : 0
},
"sensitivity" : {

},
{

},
{

}

"max" : 50,
"min" : 1

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"enable" : {
"max" : 1,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 2,
"priority" : {
"max" : 0,
"min" : 0
},
"sensitivity" : {
"max" : 50,
"min" : 1
}

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},

"enable" : {
"max" : 1,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 3,
"priority" : {
"max" : 0,
"min" : 0
},
"sensitivity" : {
"max" : 50,
"min" : 1
}

}
],
"sensDef" : {
"max" : 50,
"min" : 1
}

},
"scope" : {
"cols" : {
"max" : 80,
"min" : 80
},
"rows" : {
"max" : 60,
"min" : 60
},
"table" : {
"maxLen" : 8159
}
},
"sens" : [
{
"beginHour" : {

"max" : 23,
"min" : 0

},
{

},

},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 0,
"sensitivity" : {
"max" : 50,
"min" : 1
}

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 1,
"sensitivity" : {
"max" : 50,
"min" : 1
}

{

},
{

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 2,
"sensitivity" : {
"max" : 50,
"min" : 1
}

"beginHour" : {
"max" : 23,
"min" : 0
},
"beginMin" : {
"max" : 59,
"min" : 0
},
"endHour" : {
"max" : 23,
"min" : 0
},
"endMin" : {
"max" : 59,
"min" : 0
},
"id" : 3,
"sensitivity" : {
"max" : 50,
"min" : 1

}

}

}
],
"useNewSens" : {
"max" : 1,
"min" : 0
}

},
"value" : {
"MdAlarm" : {
"channel" : 0,
"newSens" : {
"sens" : [
{
"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 0,
"priority" : 0,
"sensitivity" : 0
},
{
"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 1,
"priority" : 0,
"sensitivity" : 0
},
{
"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 2,
"priority" : 0,
"sensitivity" : 0
},

{

}

"beginHour" : 0,
"beginMin" : 0,
"enable" : 0,
"endHour" : 0,
"endMin" : 0,
"id" : 3,
"priority" : 0,
"sensitivity" : 0

],
"sensDef" : 25

},
"scope" : {
"cols" : 80,
"rows" : 60,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111"
},
"sens" : [
{
"beginHour" : 0,
"beginMin" : 0,
"endHour" : 6,
"endMin" : 0,
"id" : 0,
"sensitivity" : 9
},
{
"beginHour" : 6,
"beginMin" : 0,
"endHour" : 12,
"endMin" : 0,
"id" : 1,
"sensitivity" : 9
},
{
"beginHour" : 12,
"beginMin" : 0,
"endHour" : 18,
"endMin" : 0,
"id" : 2,
"sensitivity" : 9
},
{
"beginHour" : 18,
"beginMin" : 0,
"endHour" : 23,
"endMin" : 59,
"id" : 3,
"sensitivity" : 9
}
],
"useNewSens" : 1 //NVR
}
}
}
]
Field description

Field

description

channel

Channel number

scope

Motion detection scope, consisting of 80 columns and 45
rows. Appointed by cols and rows.

cols

The number of col

rows

The number of row

table(scope)

A string with the length of 80*45, each byte represents an
area. With the value 1 motion detection is active in that
period of time. With the value of 0 no response will be made
with any detected motion.

sens

The sensitivity settings for motion detection. It is devided
into 4 intervals by time.

beginHour

The start hour.

beginMin

The start minute.

endHour

The ending hour.

endMin

The ending minute.

sensitivity

Sensitivity

id

Section index

type

Alarm type, only “md” is supported.

priority

Priority of alarm type

sensDef

The sensitiveity value

useNewSens

3.8.4 SetMdAlarm



Interface Description

It is used to set alarm setting.



Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetMdAlarm&token=TOKEN

Post Data

Data example
[{
"cmd": "SetMdAlarm",
"param": {
"MdAlarm": {
"channel": 0,
"scope": {
"cols": 120,
"rows": 67,
"table":
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111"
},
"useNewSens": 1,
"newSens": {
"sensDef": 10,
"sens": {
"sensitivity": 10,
"beginHour": 0,
"beginMin": 0,
"endHour": 6,
"endMin": 0,
"priority": 0,
"enable": 0
}

}]

}

}

}

Field description
Field

Description

M/O

channel

See also GetAlarm

M

scope

See also GetAlarm

O

cols

See also GetAlarm

O

rows

See also GetAlarm

O

table

See also GetAlarm

O

sens

See also GetAlarm

O

beginHour

See also GetAlarm

O

beginMin

See also GetAlarm

O

endHour

See also GetAlarm

O

endMin

See also GetAlarm

O

sensitivity

See also GetAlarm

O

id

See also GetAlarm

O

type

See also GetAlarm

M

priority

See also GetAlarm



Return data description

Return data correctly
[

]

{

"cmd" : "SetMdAlarm",
"code" : 0,
"value" : {
"rspCode" : 200
}

}

Field description
Field

description

3.8.5 GetMdState


Interface Description

It is used to get state of MD.


Interface call instructions

Request URL


POST Data

Data example
[
{

https://IPC_IP/api.cgi?cmd=GetMdState&token=TOKEN

}

]

"cmd":"GetMdState",
"param":{
"channel":0
}

Field description
Field

Description

M/O

chnnel

Chnnel num (ipc is 0)

O

Note: use this url no need to post json date
“https://IPC_IP/api.cgi?cmd=GetMdState&channel=0&token=TOKEN”


Return data description

Return data correctly
[

]

{

}

"cmd" : "GetMdState",
"code" : 0,
"value" : {
"state" : 0
}

Field description
Field

description

state

The state of motion detection. The value 1 means motions
have been detected and 0 means no motion has been
detected.

3.8.6 GetAudioAlarm


Interface Description

GetAudioAlarm.



Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAudioAlarm&token=TOKEN

POST Data

Data example
[
{
"cmd": "GetAudioAlarm",
"action": 1,
"param": {}
}
]
Field description
Field

Description

M/O

Note:
When scheduleVersion ver=1 in the capability set, use cmd “GetAudioAlarmV20”


Return data description

Return data correctly
[

{

"cmd" : "GetAudioAlarm",
"code" : 0,
"initial" : {
"Audio" : {
"schedule" : {
"enable" : 0,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
}
}

},
"range" : {
"Audio" : {
"schedule" : {
"enable" : "boolean",
"table" : {
"maxLen" : 168,
"minLen" : 168
}
}
}
},
"value" : {
"Audio" : {
"schedule" : {
"enable" : 0,
"table" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111"
}
}
}
}
]
Field description
Field

description

table

See also GetAlarm

3.8.7 SetAudioAlarm


Interface Description

SetAudioAlarm.


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd= SetAudioAlarm&token=TOKEN



Post Data

Data example
[
{
"cmd": " SetAudioAlarm",
"param": {
"Audio": {
"schedule": {
"enable": 1,
"table":
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111"
}
}
}
}
]
Field description
Field

Description

M/O

enable

See also GetAlarm

O

table

See also GetAlarm

O

Note:
When scheduleVersion ver=1 in the capability set, use cmd “SetAudioAlarmV20”


Return data description

Return data correctly
[

]

{

}

"cmd" : "SetAlarm",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description

Field

description

3.8.8 GetAudioAlarmV20


Interface Description

It is used to get configuration of AudioAlarm


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd=GetAudioAlarmV20&token=TOKE
N



POST Data

Data example
[
{
"cmd":"GetAudioAlarmV20",
"action":1,
"param": {
"channel": 0
}
}
]
Field description
Field



Description

Return data description

Return data correctly
[

{

"cmd" : "GetAudioAlarmV20",

M/O

"code" : 0,
"initial" : {
"Audio" : {
"enable" : 0,
"schedule" : {
"channel" : 15,
"table" : {
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111"
}
}
}
},
"range" : {
"Audio" : {
"enable" : "boolean",
"schedule" : {
"channel" : 15,
"table" : {
"AI_PEOPLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"AI_VEHICLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"MD" : {
"table" : {
"maxLen" : 168,

}

}

}

}

}

"minLen" : 168

},
"value" : {
"Audio" : {
"enable" : 0,
"schedule" : {
"channel" : 15,
"table" : {
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111"
}
}
}
}
}
]
Field description
Field

description

table

Audio alarm switch

channel

Index of channel

3.8.9 SetAudioAlarmV20


Interface Description

It is used to set configuration of audio alarm


Interface call instructions

Request URL

https://IPC_IP/api.cgi?cmd=
SetAudioAlarmV20&token=TOKEN



POST Data

Data example
[{
"cmd": "SetAudioAlarmV20",
"param": {
"Audio": {
"enable": 1,
"schedule": {
"channel": 0,
"table": {
"MD":
"011111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111100"
}
}
}
}
}]
Field description
Field

Description

M/O

Schedule->en

Schedule switch

O

able
Schedule->tab

Schedule table

O

le


Return data description

Return data correctly
[

]

{

}

"cmd" : " SetAudioAlarmV20",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.8.10 GetBuzzerAlarmV20


Interface Description

It is used to get configuration of BuzzerAlarm


Interface call instructions

Request URL

https://NVR_IP/api.cgi?cmd=GetBuzzerAlarmV20&token=TO
KEN



POST Data

Data example
[

{

]

}
}

"cmd":"GetBuzzerAlarmV20",
"action":1,
"param": {
"channel": 0

Field description
Field



Description

M/O

Return data description

Return data correctly
[

{

"cmd" : "GetBuzzerAlarmV20",
"code" : 0,
"initial" : {
"Buzzer" : {
"diskErrorAlert" : 0,
"diskFullAlert" : 0,
"enable" : 0,
"ipConflictAlert" : 0,
"nvrDisconnectAlert" : 0,
"schedule" : {
"channel" : 0,
"table" : {
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111

11111111111111111111111111111111111",
"VL" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000"
}
}
}
},
"range" : {
"Buzzer" : {
"diskErrorAlert" : "boolean",
"diskFullAlert" : "boolean",
"enable" : "boolean",
"ipConflictAlert" : "boolean",
"nvrDisconnectAlert" : "boolean",
"schedule" : {
"channel" : 0,
"table" : {
"AI_PEOPLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"AI_VEHICLE" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"MD" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
},
"VL" : {
"table" : {
"maxLen" : 168,
"minLen" : 168
}
}
}

}

}
},
"value" : {
"Buzzer" : {
"diskErrorAlert" : 0,
"diskFullAlert" : 0,
"enable" : 0,
"ipConflictAlert" : 0,
"nvrDisconnectAlert" : 0,
"schedule" : {
"channel" : 0,
"table" : {
"AI_PEOPLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"AI_VEHICLE" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000",
"MD" :
"011111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111100",
"VL" :
"000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000"
}
}
}
}
}
]
Field description
Field

description

diskErrorAlert

Disk error Alert

diskFullAlert

Disk full Alert

enable

Buzzer switch

ipconflictAlert

Ipc conflict Alert

channel

Index of channel

table

Schedule table

nvrDisconnectAlert

Nvr Disconnect Alert

3.8.11 SetBuzzerAlarmV20


Interface Description

It is used to set configuration of


Buzzer alarm

Interface call instructions

Request URL

https://NVR_IP/api.cgi?cmd=
SetBuzzerAlarmV20&token=TOKEN



POST Data

Data example
[{
"cmd": "SetBuzzerAlarmV20",
"param": {
"Buzzer": {
"enable": 0,
"schedule": {
"channel": 0,
"table": {
"MD":
"011111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111100",
"TIMING":
"000111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111"
}
}
}
}

}]
Field description
Field

Description

M/O

Schedule->en

Buzzer switch

O

Schedule table

O

able
Schedule->tab
le


Return data description

Return data correctly
[

]

{

}

"cmd" : " SetBuzzerAlarmV20",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

rspCode

Response code

3.8.12 AudioAlarmPlay


Interface Description

It is used to play audio alarm


Interface call instructions

Request URL


Post Data

https://IPC_IP/api.cgi?cmd=AudioAlarmPlay&token=TOKEN

Data example
[{
"cmd": "AudioAlarmPlay",
"action": 0,
"param": {
"alarm_mode": "times",
"manual_switch": 0,
"times": 2,
"channel": 0
}
}]
Field description
Field

Description

channel

Index of channel

M

manual_switch

Switch of manual

O

times

Times of Audio alarm

O

alarm_mode

Alarm mode : “times”/”manu”

O



Return data description

Return data correctly
[

]

{

}

"cmd" : " AudioAlarmPlay",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

M/O

3.10 LED
3.10.1 GetIrLights


Interface Description

It is used to get Irlights information of device.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetIrLights&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetIrLights"
}
]
Field description
Field



Description

Return data description

Return data correctly
[

{

"cmd": "GetIrLights",
"code": 0,
"value": {
"IrLights": {
"state": 0
}
},
"initial": {

M/O

"IrLights": {
"state": 0
}

},
"range": {
"IrLights": {
"state": {
"Auto"
"Off"
"On"
}
}
}

}

]

Field description
Field

description

state

The state of irlight

3.10.2 SetIrLights


Interface Description

It is used to set configuration of IrLights.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetIrLights&token=TOKEN

Post Data

Data example
[{
"cmd": "SetIrLights",
"action": 0,
"param": {
"IrLights": {
"channel": 0,
"state": "Auto"
}

}
}]
Field description
Field

Description

channel

Index of channel



M/O

Return data description

Return data correctly
[

]

{

}

"cmd" : "SetIrLights",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.10.3 GetPowerLed


Interface Description

It is used to get power led information of device.


Interface call instructions

Request URL


POST Data

https://IPC_IP/api.cgi?cmd=GetPowerLed&token=TOKEN

M

Data example
[
{
"cmd":"GetPowerLed"
}
]
Field description
Field



Description

Return data description

Return data correctly
[

]

{

}

"cmd": "GetPowerLed",
"code": 0,
"value": {
"PowerLed": {
"channel": 0,
"state": 0
}
},
"range": {
"PowerLed": {
"state": {
"On"
"Off"
}
}
}

Field description
Field

description

state

State of power led

M/O

3.10.4 SetPowerLed


Interface Description

It is used to set power led information of device.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd= SetPowerLed &token=TOKEN

POST Data

Data example
[
{
"cmd":"SetPowerLed",
"param":{
"PowerLed":{
"state":"Off",
"channel":0
}
}
}
]
Field description
Field

Description

state

State of power led

Note :Only for devices with power led


Return data description

Return data correctly
[

{

"cmd" : " SetPowerLed ",
"code" : 0,
"value" : {
"rspCode" : 200
}

M/O

]

}

Field description
Field

description

rspCode

Response code

3.10.5 GetWhiteLed



Interface Description

It is used to get configuration of white led.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetWhiteLed&token=TOKEN

Post Data

Data example
[{
"cmd": "GetWhiteLed",
"action": 0,
"param": {
"channel": 0
}
}]
Field description
Field

Description

channel

Index of channel



Return data description

Return data correctly
[

{

M/O
M

"cmd" : "GetWhiteLed",
"code" : 0,
"initial" : {
"WhiteLed" : {
"wlAiDetectType" : {
"dog_cat" : 0,
"face" : 0,
"people" : 0,
"vehicle" : 0
}
}
},
"range" : {
"AiDetectType" : {
"dog_cat" : "boolean",
"face" : "boolean",
"people" : "boolean",
"vehicle" : "boolean"
},
"WhiteLed" : {
"bright" : {
"max" : 100,
"min" : 0
}
}
},
"value" : {
"WhiteLed" : {
"LightingSchedule" : {
"EndHour" : 6,
"EndMin" : 0,
"StartHour" : 18,
"StartMin" : 0
},
"bright" : 79,
"channel" : 0,
"mode" : 1,
"state" : 0,
"wlAiDetectType" : {
"dog_cat" : 1,
"face" : 0,
"people" : 1,
"vehicle" : 0
}

]

}

}

}

Field description
Field

description

channel

Channel number

state

White led state

auto

White led auto mode

bright

Current brightness

mode

Brightness state

3.10.6 SetWhiteLed



Interface Description

It is used to set configuration of white led.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetWhiteLed&token=TOKEN

Post Data

Data example
[{
"cmd": "SetWhiteLed",
"param": {
"WhiteLed": {
"state": 0,
"channel": 0,
"mode": 1,
"bright": 79,

}]

}

}

"LightingSchedule": {
"EndHour": 6,
"EndMin": 0,
"StartHour": 18,
"StartMin": 0
},
"wlAiDetectType": {
"dog_cat": 1,
"face": 0,
"people": 1,
"vehicle": 0
}

Field description
Field

Description

M/O

channel

Index of channel

M

state

White led state 0/1

O

0:Off
1:On
mode

Brightness state 0/1/2

O

0:it`s always light at night
1:alarm trigger mode
2:light on for specific periods
bright

Current brightness 1-100

wlAiDetectTyp The ai detect type of white led
e


Return data description

Return data correctly
[

{

"cmd" : "SetWhiteLed",
"code" : 0,
"value" : {

O
O

]

}

}

"rspCode" : 200

Field description
Field

description

3.10.7 GetAiAlarm


Interface Description

It is used to get configuration of ai alarm


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAiAlarm&token=TOKEN

Post Data

Data example
[{
"cmd": "GetAiAlarm",
"action": 0,
"param": {
"channel": 0,
"ai_type": "people"
}
}]
Field description
Field

Description

channel

Index of channel

M

ai_type

Ai type

O



Return data description

M/O

Return data correctly
[

{

"cmd" : "GetAiAlarm",
"code" : 0,
"value" : {
"ai_detect_type" : "people",
"height" : 60,
"max_target_height" : 0.0,
"max_target_width" : 0.0,
"min_target_height" : 0.0,
"min_target_width" : 0.0,
"scope" : {
"area" :
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111"
},

]

}

}

"sensitivity" : 10,
"stay_time" : 0,
"width" : 80

Field description
Field

description

3.10.8 SetAiAlarm



Interface Description

It is used to set configuration of ai alarm


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetAiAlarm&token=TOKEN

Post Data

Data example
[{
"cmd": "SetAiAlarm",
"param": {
"channel": 0,
"AiAlarm": {
"ai_type": "people",
"sensitivity": 10,
"stay_time": 0,
"width": 80,
"height": 60,
"scope": {
"area":
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111"
},
"min_target_height": 0.0,
"max_target_height": 1.0,
"min_target_width": 0.0,
"max_target_width": 1.0

}

}

}]
Field description
Field

Description

M/O

channel

Index of channel

M

ai_type

Ai type

O

sensitivity

Sensitivity of ai alarm

O

stay_time


Stay time

O

Return data description

Return data correctly
[

]

{

}

"cmd" : "SetAiAlarm",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.10.9 SetAlarmArea



Interface Description

It is used to set alarm area.


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetAlarmArea&token=TOKEN

Post Data

Data example
[{
"cmd": "SetAlarmArea",
"param": {
"channel": 0,
"ai_type": "people",

"width": 80,
"height": 60,
"area":
"11111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111

111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111111111111111
1111111111111111111111111111111111111111111111111"
}
}]
Field description
Field

Description

M/O

channel

Index of channel

M

ai_type

Type of ai alarm

O

width

Width of alarm area

O

height


Height of alarm area

Return data description

Return data correctly
[

]

{

}

"cmd" : "SetAlarmArea",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.11 AI
3.11.1 GetAiCfg



Interface Description

It is used to get configuration of ai


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAiCfg&token=TOKEN

Post Data

Data example
[{
"cmd": "GetAiCfg",
"action": 0,
"param": {

O

"channel": 0

}
}]

Field description
Field

Description

channel

Index of channel



Return data description

Return data correctly
[

]

{

}

"cmd" : "GetAiCfg",
"code" : 0,
"value" : {
"AiDetectType" : {
"dog_cat" : 1,
"face" : 0,
"people" : 1,
"vehicle" : 1
},
"aiTrack" : 0,
"channel" : 0,
"trackType" : {
"dog_cat" : 0,
"face" : 0,
"people" : 1,
"vehicle" : 0
}
}

Field description
Field

description

M/O
M

3.11.2 SetAiCfg


Interface Description

It is used to set ai detect type and ai track type


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=SetAiCfg&token=TOKEN

POST Data

Data example
[{
"cmd": "SetAiCfg",
"action": 0,
"param": {
"aiTrack": 0,
"trackType": {},
"AiDetectType": {
"people": 1,
"vehicle": 1,
"dog_cat": 1,
"face": 0
},
"channel": 0
}
}]
Field description
Field

Description

M/O

channel

Index of channel

M

aiTrack

Switch to aiTrack

O

trackType

Ai track type

O

AiDetectType

Ai detect type

O

people

People detection

O

vehicle

Vehicle detection

O

Dog_cat

Dog and cat detection

O

face



Face detection

Return data description

Return data correctly
[

]

{

}

"cmd" : "SetAiCfg",
"code" : 0,
"value" : {
"rspCode" : 200
}

Field description
Field

description

3.11.3 GetAiState


Interface Description

It is used to get ai alarm state


Interface call instructions

Request URL


https://IPC_IP/api.cgi?cmd=GetAiState&token=TOKEN

POST Data

Data example
[
{
"cmd":"GetAiState",
"param":{

O

]

}

}

"channel":0

Field description
Field

Description

M/O

channel

Index of channel

M



Return data description

Return data correctly
[

]

{

}

"cmd" : "GetAiState",
"code" : 0,
"value" : {
"channel" : 0,
"dog_cat" : {
"alarm_state" : 0,
"support" : 1
},
"face" : {
"alarm_state" : 0,
"support" : 0
},
"people" : {
"alarm_state" : 0,
"support" : 1
},
"vehicle" : {
"alarm_state" : 0,
"support" : 1
}
}

Field description
Field

description

alarm_state

Alarm state

support

Whether support or not

4. Response
4.1 Error
Error Response
[

]

{

}

"cmd":string,
"code":0,
"error":{
"rspCode":int,
"detail":string
}

rspCode

Details

Description

-1

not exist

Missing parameters

-2

out of mem

Used up memory

-3

check err

Check error

-4

param error

Parameters error

-5

max session

Reached the max session
number.

-6

please login first

Login required

-7

login failed

Login error

-8

timeout

Operation timeout

-9

not support

Not supported

-10

protocol

Protocol error

-11

fcgi read failed

Failed to read operation

-12

get config failed

Failed to get configuration.

-13

set config failed

Failed to set configuration.

-14

malloc failed

Failed to apply for memory

-15

create socket failed

Failed to created socket

-16

send failed

Failed to send data

-17

rcv failed

Failed to receiver data

-18

open file failed

Failed to open file

-19

read file failed

Failed to read file

-20

write file failed

Failed to write file

-21

error token

Token error

-22

The length of the string exceeds the The length of the string
limit

exceeds the limitmation

-23

missing param

Missing parameters

-24

error command

Command error

-25

internal error

Internal error

-26

ability error

Ability error

-27

invalid user

Invalid user

-28

user already exist

User already exist

-29

maximum number of users

Reached

the

maximum

number of users
-30

same version

The version is identical to the
current one.

-31

busy

Ensure only one user can
upgrade

-32

ip conflict

Modify IP conflicted with
used IP

-34

need bing email

Cloud login need bind email
first

-35

unbind

Cloud login unbind camera

-36

network timeout

Cloud

login

get

information out of time

login

-37

password err

Cloud login password error

-38

uid err

Cloud bind camera uid error

-39

user not exist

Cloud login user doesn’t exist

-40

unbind failed

Cloud unbind camera failed

-41

cloud not support

The device doesn’t support
cloud

-42

login cloud server failed

Cloud login server failed

-43

bind failed

Cloud bind camera failed

-44

cloud unknown err

Cloud unknown error

-45

need verify code

Cloud bind camera need

-46

-47

Digest authentication failed
Digest authentication Nonce expires

verify code
An error occurred while
using the digest
authentication process
Abstract An expired nonce is
used in the authentication
process

-48

Fetching a picture failed

Snap a picture failed

-49

Channel invalid

Channel is invalid

-99

Device offline

Device offline

-100

test failed

Test Email、Ftp、Wifi failed

-101

check firmware failed

Upgrade checking firmware
failed

-102

download online failed

Upgrade download online
failed

-103

get upgrade status failed

Upgrade get upgrade status
failed

-105

Frequent logins, please try again Frequent logins
later!

-220

Error downloading video file

Error downloading video file

-221

Busy video recording task

Busy video recording task

-222

The video file does not exist

The video file does not exist

-301

Digest Authentication nonce error

Digest Authentication nonce
error

-310

Aes decryption failure

Aes decryption failure

-451

ftp login failed

ftp test login failed

-452

ftp create dir failed

Creat ftp dir failed

-453

ftp upload failed

Upload ftp file failed

-454

ftp connect failed

Cannot connect ftp server

-480

email undefined failed

Some undifined errors

-481

email connect failed

Cannot connect email server

-482

email auth failed

Auth user failed

-483

email network err

Email network err

-484

email server err

Something wrong with email
server

-485

email memory err

Something wrong with
memory

-500

The number of IP addresses reaches The number of IP addresses
the upper limit

reaches the upper limit

-501

The user does not exist

The user does not exist

-502

Password err

Password err

-503

Login deny

Login deny

-505

Login not init

Login not init

-506

Login locked

Login locked

-507

Login reach max

The number of logins
reached the upper limit

Note : Field "details" means more detailed error information.

