# Full Canonical Go SDK Restructure Plan

## Executive Summary

This document outlines the complete restructuring of the Reolink Go SDK from its current nested structure (`sdk/go/reolink/`) to a canonical, industry-standard Go SDK layout at the repository root.

**Current State:**
- 36 Go files (20 source + 16 test files)
- Flat structure in `sdk/go/reolink/`
- Module path: `github.com/mosleyit/reolink_api_wrapper/sdk/go/reolink`
- 100% API coverage, 60.5% test coverage
- Production-ready but non-standard structure

**Target State:**
- Canonical Go SDK structure at repository root
- Organized by domain (api/, internal/, pkg/)
- Module path: `github.com/mosleyit/reolink_api_wrapper`
- Maintains 100% API coverage and all tests
- Industry-standard layout for better maintainability

**Impact:** This is a **BREAKING CHANGE** requiring v2.0.0 release.

---

## New Directory Structure

```
reolink_api_wrapper/                 # Repository root
├── go.mod                           # Module: github.com/mosleyit/reolink_api_wrapper
├── go.sum                           # Generated by go mod tidy
├── README.md                        # Main project README (update for new structure)
├── LICENSE                          # NEW - MIT or Apache 2.0
├── CHANGELOG.md                     # NEW - Version history
├── .gitignore                       # Move from sdk/go/reolink/
├── Makefile                         # Move from sdk/go/reolink/
│
├── docs/                            # Keep existing documentation
│   ├── index.html
│   ├── reolink-camera-api-openapi.yaml
│   └── ...
│
├── scripts/                         # Keep existing scripts
│   └── install-hooks.sh
│
├── client.go                        # Main Client struct (from sdk/go/reolink/client.go)
├── config.go                        # Options pattern (from sdk/go/reolink/config.go)
├── errors.go                        # Error types (from sdk/go/reolink/errors.go)
├── version.go                       # NEW - SDK version info
├── doc.go                           # NEW - Package documentation
│
├── internal/                        # NEW - Private implementation
│   ├── httpclient/
│   │   ├── client.go                # HTTP client wrapper
│   │   ├── request.go               # Request/response handling
│   │   └── transport.go             # TLS config, timeouts
│   └── testing/
│       └── helpers.go               # Test utilities (from testing.go)
│
├── pkg/                             # NEW - Shared utilities
│   └── logger/
│       ├── logger.go                # Logger interface (from logger.go)
│       └── logger_test.go           # Logger tests
│
├── api/                             # NEW - API domain modules
│   ├── common/
│   │   └── types.go                 # Shared Request/Response/models
│   ├── system/
│   │   ├── service.go               # SystemAPI methods
│   │   ├── types.go                 # System-specific types
│   │   └── service_test.go          # System tests
│   ├── security/
│   │   ├── service.go               # SecurityAPI methods
│   │   ├── types.go                 # Security-specific types
│   │   └── service_test.go
│   ├── network/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   ├── video/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   ├── encoding/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   ├── recording/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   ├── ptz/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   ├── alarm/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   ├── led/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   ├── ai/
│   │   ├── service.go
│   │   ├── types.go
│   │   └── service_test.go
│   └── streaming/
│       ├── service.go
│       ├── types.go
│       └── service_test.go
│
├── examples/                        # Keep existing examples
│   ├── README.md
│   ├── basic/
│   │   └── main.go                  # Update imports
│   ├── debug_test/
│   │   └── main.go                  # Update imports
│   └── hardware_test/
│       └── main.go                  # Update imports
│
├── tests/                           # NEW - Integration tests
│   ├── integration/
│   │   └── hardware_test.go         # Move from examples/hardware_test
│   └── e2e/
│       └── README.md
│
├── client_test.go                   # Root-level client tests
└── error_paths_test.go              # Root-level error tests
```

---

## File Mapping

### Root Level Files

| Current File | New Location | Changes Required |
|-------------|--------------|------------------|
| `sdk/go/reolink/client.go` | `client.go` | Update package to `reolink`, update imports |
| `sdk/go/reolink/config.go` | `config.go` | Update package to `reolink` |
| `sdk/go/reolink/errors.go` | `errors.go` | Update package to `reolink` |
| `sdk/go/reolink/client_test.go` | `client_test.go` | Update imports |
| `sdk/go/reolink/config_test.go` | `config_test.go` | Update imports |
| `sdk/go/reolink/errors_test.go` | `errors_test.go` | Update imports |
| `sdk/go/reolink/error_paths_test.go` | `error_paths_test.go` | Update imports |
| `sdk/go/reolink/go.mod` | `go.mod` | Update module path |
| `sdk/go/reolink/.gitignore` | `.gitignore` | Move to root |
| `sdk/go/reolink/Makefile` | `Makefile` | Update paths |
| `sdk/go/reolink/README.md` | `SDK_README.md` | Keep as SDK-specific docs |

### New Files to Create

| File | Purpose | Content Source |
|------|---------|----------------|
| `LICENSE` | Open source license | Create new (MIT recommended) |
| `CHANGELOG.md` | Version history | Create new with v2.0.0 entry |
| `version.go` | SDK version constant | Create new |
| `doc.go` | Package documentation | Create new with examples |

### API Module Files

| Current File | New Location | Package Name |
|-------------|--------------|--------------|
| `sdk/go/reolink/system.go` | `api/system/service.go` | `package system` |
| `sdk/go/reolink/system_test.go` | `api/system/service_test.go` | `package system` |
| `sdk/go/reolink/security.go` | `api/security/service.go` | `package security` |
| `sdk/go/reolink/security_test.go` | `api/security/service_test.go` | `package security` |
| `sdk/go/reolink/network.go` | `api/network/service.go` | `package network` |
| `sdk/go/reolink/network_test.go` | `api/network/service_test.go` | `package network` |
| `sdk/go/reolink/video.go` | `api/video/service.go` | `package video` |
| `sdk/go/reolink/video_test.go` | `api/video/service_test.go` | `package video` |
| `sdk/go/reolink/encoding.go` | `api/encoding/service.go` | `package encoding` |
| `sdk/go/reolink/encoding_test.go` | `api/encoding/service_test.go` | `package encoding` |
| `sdk/go/reolink/recording.go` | `api/recording/service.go` | `package recording` |
| `sdk/go/reolink/recording_test.go` | `api/recording/service_test.go` | `package recording` |
| `sdk/go/reolink/ptz.go` | `api/ptz/service.go` | `package ptz` |
| `sdk/go/reolink/ptz_test.go` | `api/ptz/service_test.go` | `package ptz` |
| `sdk/go/reolink/alarm.go` | `api/alarm/service.go` | `package alarm` |
| `sdk/go/reolink/alarm_test.go` | `api/alarm/service_test.go` | `package alarm` |
| `sdk/go/reolink/led.go` | `api/led/service.go` | `package led` |
| `sdk/go/reolink/led_test.go` | `api/led/service_test.go` | `package led` |
| `sdk/go/reolink/ai.go` | `api/ai/service.go` | `package ai` |
| `sdk/go/reolink/ai_test.go` | `api/ai/service_test.go` | `package ai` |
| `sdk/go/reolink/streaming.go` | `api/streaming/service.go` | `package streaming` |
| `sdk/go/reolink/streaming_test.go` | `api/streaming/service_test.go` | `package streaming` |

### Shared/Utility Files

| Current File | New Location | Package Name |
|-------------|--------------|--------------|
| `sdk/go/reolink/models.go` | `api/common/types.go` | `package common` |
| `sdk/go/reolink/logger.go` | `pkg/logger/logger.go` | `package logger` |
| `sdk/go/reolink/logger_test.go` | `pkg/logger/logger_test.go` | `package logger` |
| `sdk/go/reolink/testing.go` | `internal/testing/helpers.go` | `package testing` |

### Examples

| Current File | New Location | Import Changes |
|-------------|--------------|----------------|
| `sdk/go/reolink/examples/basic/main.go` | `examples/basic/main.go` | Update import path |
| `sdk/go/reolink/examples/debug_test/main.go` | `examples/debug_test/main.go` | Update import path |
| `sdk/go/reolink/examples/hardware_test/main.go` | `examples/hardware_test/main.go` | Update import path |
| `sdk/go/reolink/examples/README.md` | `examples/README.md` | Update paths |

---

## Code Changes Required

### 1. Module Path Update

**File:** `go.mod`

```go
// OLD
module github.com/mosleyit/reolink_api_wrapper/sdk/go/reolink

// NEW
module github.com/mosleyit/reolink_api_wrapper

go 1.22.2
```

### 2. Package Names

| Location | Old Package | New Package |
|----------|-------------|-------------|
| Root files | `package reolink` | `package reolink` (no change) |
| `api/system/` | `package reolink` | `package system` |
| `api/security/` | `package reolink` | `package security` |
| `api/network/` | `package reolink` | `package network` |
| `api/video/` | `package reolink` | `package video` |
| `api/encoding/` | `package reolink` | `package encoding` |
| `api/recording/` | `package reolink` | `package recording` |
| `api/ptz/` | `package reolink` | `package ptz` |
| `api/alarm/` | `package reolink` | `package alarm` |
| `api/led/` | `package reolink` | `package led` |
| `api/ai/` | `package reolink` | `package ai` |
| `api/streaming/` | `package reolink` | `package streaming` |
| `api/common/` | N/A | `package common` |
| `pkg/logger/` | `package reolink` | `package logger` |
| `internal/httpclient/` | N/A | `package httpclient` |
| `internal/testing/` | `package reolink` | `package testing` |

### 3. Import Path Updates

**All example files need updated imports:**

```go
// OLD
import "github.com/mosleyit/reolink_api_wrapper/sdk/go/reolink"

// NEW
import "github.com/mosleyit/reolink_api_wrapper"
```

**Internal imports in SDK files:**

```go
// NEW imports needed in api modules
import (
    "github.com/mosleyit/reolink_api_wrapper/api/common"
    "github.com/mosleyit/reolink_api_wrapper/internal/httpclient"
    "github.com/mosleyit/reolink_api_wrapper/pkg/logger"
)
```

### 4. Client Struct Changes

**File:** `client.go`

The Client struct needs to reference the new API module packages:

```go
package reolink

import (
    "github.com/mosleyit/reolink_api_wrapper/api/system"
    "github.com/mosleyit/reolink_api_wrapper/api/security"
    "github.com/mosleyit/reolink_api_wrapper/api/network"
    "github.com/mosleyit/reolink_api_wrapper/api/video"
    "github.com/mosleyit/reolink_api_wrapper/api/encoding"
    "github.com/mosleyit/reolink_api_wrapper/api/recording"
    "github.com/mosleyit/reolink_api_wrapper/api/ptz"
    "github.com/mosleyit/reolink_api_wrapper/api/alarm"
    "github.com/mosleyit/reolink_api_wrapper/api/led"
    "github.com/mosleyit/reolink_api_wrapper/api/ai"
    "github.com/mosleyit/reolink_api_wrapper/api/streaming"
    "github.com/mosleyit/reolink_api_wrapper/internal/httpclient"
    "github.com/mosleyit/reolink_api_wrapper/pkg/logger"
)

type Client struct {
    httpClient *httpclient.Client
    logger     logger.Logger

    // API modules
    System    *system.Service
    Security  *security.Service
    Network   *network.Service
    Video     *video.Service
    Encoding  *encoding.Service
    Recording *recording.Service
    PTZ       *ptz.Service
    Alarm     *alarm.Service
    LED       *led.Service
    AI        *ai.Service
    Streaming *streaming.Service
}
```

### 5. API Service Struct Pattern

Each API module will follow this pattern:

**File:** `api/system/service.go`

```go
package system

import (
    "context"
    "github.com/mosleyit/reolink_api_wrapper/api/common"
    "github.com/mosleyit/reolink_api_wrapper/internal/httpclient"
    "github.com/mosleyit/reolink_api_wrapper/pkg/logger"
)

// Service provides access to system-related API endpoints
type Service struct {
    client *httpclient.Client
    logger logger.Logger
}

// NewService creates a new system API service
func NewService(client *httpclient.Client, logger logger.Logger) *Service {
    return &Service{
        client: client,
        logger: logger,
    }
}

// GetDeviceInfo retrieves device information
func (s *Service) GetDeviceInfo(ctx context.Context) (*DeviceInfo, error) {
    // Implementation stays the same, just uses common.Request/Response
    req := []common.Request{{
        Cmd:    "GetDevInfo",
        Action: 0,
    }}
    // ... rest of implementation
}
```

---

## Detailed Migration Steps

### Phase 1: Preparation (No Breaking Changes)

1. **Create new directory structure** (empty directories)
   ```bash
   mkdir -p api/{common,system,security,network,video,encoding,recording,ptz,alarm,led,ai,streaming}
   mkdir -p internal/{httpclient,testing}
   mkdir -p pkg/logger
   mkdir -p tests/{integration,e2e}
   ```

2. **Create new files**
   - `LICENSE` (MIT or Apache 2.0)
   - `CHANGELOG.md` (with v2.0.0 entry)
   - `version.go`
   - `doc.go`

3. **Run tests to establish baseline**
   ```bash
   cd sdk/go/reolink
   go test -v ./...
   ```

### Phase 2: Extract Internal Packages

4. **Create `internal/httpclient/`**
   - Extract HTTP logic from `client.go` (lines 113-182)
   - Create `client.go`, `request.go`, `transport.go`
   - Keep as `package httpclient`

5. **Create `pkg/logger/`**
   - Move `logger.go` → `pkg/logger/logger.go`
   - Move `logger_test.go` → `pkg/logger/logger_test.go`
   - Change to `package logger`
   - Run tests: `go test ./pkg/logger/...`

6. **Create `internal/testing/`**
   - Move `testing.go` → `internal/testing/helpers.go`
   - Change to `package testing`

### Phase 3: Extract Common Types

7. **Create `api/common/types.go`**
   - Move from `models.go`:
     - `Request`, `Response`, `ErrorDetail`
     - `LoginParam`, `LoginUser`, `LoginValue`, `TokenInfo`
     - `StreamType`, `StreamConfig`, `Stream`
     - `Channel`, `Schedule`
   - Change to `package common`
   - Run tests: `go test ./api/common/...`

### Phase 4: Migrate API Modules (One at a time)

For each API module (system, security, network, etc.):

8. **System API** (example - repeat for all modules)
   - Create `api/system/types.go`
     - Extract system-specific types from `models.go`
     - `DeviceInfo`, `DeviceInfoValue`, `DeviceName`, etc.
   - Create `api/system/service.go`
     - Copy `system.go` content
     - Change package to `system`
     - Rename `SystemAPI` → `Service`
     - Update imports to use `common`, `httpclient`, `logger`
     - Update method signatures to use local types
   - Create `api/system/service_test.go`
     - Copy `system_test.go` content
     - Update imports
   - Run tests: `go test ./api/system/...`

9. **Repeat for all API modules:**
   - Security
   - Network
   - Video
   - Encoding
   - Recording
   - PTZ
   - Alarm
   - LED
   - AI
   - Streaming

### Phase 5: Update Root Client

10. **Update `client.go`**
    - Move to repository root
    - Update imports to reference new packages
    - Update struct to use new service types
    - Update `NewClient()` to instantiate new services
    - Keep `package reolink`

11. **Move supporting files to root**
    - `config.go` → root
    - `errors.go` → root
    - `client_test.go` → root
    - `config_test.go` → root
    - `errors_test.go` → root
    - `error_paths_test.go` → root

### Phase 6: Update Module and Examples

12. **Update `go.mod`**
    - Change module path to `github.com/mosleyit/reolink_api_wrapper`
    - Run `go mod tidy`

13. **Update examples**
    - Move `sdk/go/reolink/examples/` → `examples/`
    - Update imports in all example files
    - Update `examples/README.md` with new paths
    - Test each example builds: `cd examples/basic && go build`

14. **Update Makefile**
    - Move to root
    - Update all paths to reference new structure

### Phase 7: Testing and Validation

15. **Run all tests**
    ```bash
    go test ./...
    go test -race ./...
    go test -cover ./...
    ```

16. **Build all examples**
    ```bash
    cd examples/basic && go build
    cd examples/debug_test && go build
    cd examples/hardware_test && go build
    ```

17. **Verify imports**
    ```bash
    go list -m all
    go mod verify
    ```

### Phase 8: Documentation Updates

18. **Update README.md**
    - Update installation instructions
    - Update import examples
    - Add migration guide from v1 to v2
    - Update all code examples

19. **Create CHANGELOG.md**
    ```markdown
    # Changelog

    ## [2.0.0] - 2025-10-27

    ### Breaking Changes
    - Restructured SDK to canonical Go layout
    - Changed module path from `github.com/mosleyit/reolink_api_wrapper/sdk/go/reolink`
      to `github.com/mosleyit/reolink_api_wrapper`
    - API modules moved to separate packages under `api/`
    - Internal implementation moved to `internal/` and `pkg/`

    ### Migration Guide
    - Update imports: `import "github.com/mosleyit/reolink_api_wrapper"`
    - Client usage remains the same: `reolink.NewClient(...)`
    - All public APIs unchanged

    ### Added
    - LICENSE file (MIT)
    - CHANGELOG.md
    - version.go with SDK version info
    - Improved package organization
    ```

20. **Create LICENSE**
    - Add MIT or Apache 2.0 license

### Phase 9: Cleanup

21. **Remove old structure**
    ```bash
    rm -rf sdk/
    ```

22. **Update .gitignore**
    - Move from `sdk/go/reolink/.gitignore` to root
    - Update paths if needed

23. **Final verification**
    ```bash
    go build ./...
    go test ./...
    go vet ./...
    ```

---

## Breaking Changes Summary

### Import Path Changes

**Before (v1.x):**
```go
import "github.com/mosleyit/reolink_api_wrapper/sdk/go/reolink"

client := reolink.NewClient("192.168.1.100",
    reolink.WithCredentials("admin", "password"))
```

**After (v2.0):**
```go
import "github.com/mosleyit/reolink_api_wrapper"

client := reolink.NewClient("192.168.1.100",
    reolink.WithCredentials("admin", "password"))
```

### Installation Changes

**Before (v1.x):**
```bash
go get github.com/mosleyit/reolink_api_wrapper/sdk/go/reolink
```

**After (v2.0):**
```bash
go get github.com/mosleyit/reolink_api_wrapper@v2
```

### Public API (No Changes)

The public API remains **100% compatible**:
- `reolink.NewClient()` - Same signature
- `client.Login()`, `client.Logout()` - Same
- `client.System.GetDeviceInfo()` - Same
- All API methods - Same signatures
- All types - Same names and fields

**Users only need to update their import statements.**

---

## Risk Assessment

### High Risk Areas

1. **Import path changes** - All consumers must update
2. **Module path change** - Requires v2 tag
3. **Package reorganization** - Internal references must be updated

### Mitigation Strategies

1. **Comprehensive testing at each phase**
   - Run tests after each module migration
   - Verify examples build and run
   - Test with real hardware if possible

2. **Maintain public API compatibility**
   - Keep all exported types and functions
   - Same method signatures
   - Same behavior

3. **Clear migration documentation**
   - Detailed CHANGELOG
   - Migration guide in README
   - Example updates

### Rollback Plan

If issues arise:
1. Keep v1.x branch active
2. Tag current state as v1.x.x
3. Create v2 branch for restructure
4. Can revert to v1 if needed

---

## Testing Strategy

### Unit Tests
- All existing tests must pass
- 157 unit tests across all modules
- Maintain 60%+ coverage

### Integration Tests
- Move hardware tests to `tests/integration/`
- Verify against real Reolink cameras
- Test all API modules

### Build Tests
- Verify all examples build
- Test on multiple Go versions (1.19+)
- Cross-platform testing (Linux, macOS, Windows)

### Import Tests
- Create test project that imports SDK
- Verify module resolution
- Test with `go get`

---

## Timeline Estimate

| Phase | Tasks | Estimated Time |
|-------|-------|----------------|
| Phase 1 | Preparation | 30 minutes |
| Phase 2 | Extract internal packages | 1-2 hours |
| Phase 3 | Extract common types | 1 hour |
| Phase 4 | Migrate API modules | 4-6 hours |
| Phase 5 | Update root client | 1-2 hours |
| Phase 6 | Update module & examples | 1 hour |
| Phase 7 | Testing & validation | 2-3 hours |
| Phase 8 | Documentation | 1-2 hours |
| Phase 9 | Cleanup | 30 minutes |
| **Total** | | **12-18 hours** |

---

## Success Criteria

✅ All tests pass (`go test ./...`)
✅ All examples build and run
✅ Test coverage maintained at 60%+
✅ No breaking changes to public API
✅ Documentation updated
✅ LICENSE file added
✅ CHANGELOG.md created
✅ Module path updated
✅ Clean `go mod verify`
✅ Builds on Go 1.19+

---

## Post-Migration Tasks

1. **Tag release**
   ```bash
   git tag v2.0.0
   git push origin v2.0.0
   ```

2. **Update pkg.go.dev**
   - Will auto-update on tag push
   - Verify documentation renders correctly

3. **Update GitHub README badges**
   - Update Go Reference badge
   - Update Go Report Card

4. **Announce breaking change**
   - GitHub release notes
   - Update main README with migration guide
   - Consider keeping v1 branch for legacy support

5. **Monitor for issues**
   - Watch for user feedback
   - Be ready to patch quickly
   - Consider v1.x maintenance releases if needed

---

## Appendix: Key Files Content

### version.go

```go
package reolink

// Version is the current SDK version
const Version = "2.0.0"

// UserAgent returns the user agent string for HTTP requests
func UserAgent() string {
    return "reolink-go-sdk/" + Version
}
```

### doc.go

```go
// Package reolink provides a Go client for the Reolink Camera HTTP API.
//
// The SDK supports all Reolink camera API endpoints including system management,
// PTZ control, motion detection, AI features, and video streaming.
//
// # Installation
//
//     go get github.com/mosleyit/reolink_api_wrapper@v2
//
// # Quick Start
//
//     package main
//
//     import (
//         "context"
//         "fmt"
//         "log"
//         "github.com/mosleyit/reolink_api_wrapper"
//     )
//
//     func main() {
//         client := reolink.NewClient("192.168.1.100",
//             reolink.WithCredentials("admin", "password"))
//
//         ctx := context.Background()
//         if err := client.Login(ctx); err != nil {
//             log.Fatal(err)
//         }
//         defer client.Logout(ctx)
//
//         info, err := client.System.GetDeviceInfo(ctx)
//         if err != nil {
//             log.Fatal(err)
//         }
//         fmt.Printf("Camera: %s\n", info.Model)
//     }
//
// # API Modules
//
// The SDK is organized into domain-specific modules:
//
//   - System: Device info, time, maintenance, reboot
//   - Security: Users, authentication, certificates
//   - Network: Network, WiFi, DDNS, NTP, Email, FTP
//   - Video: OSD, image settings, ISP, mask, crop
//   - Encoding: Stream configuration, snapshots
//   - Recording: Recording config, search, download
//   - PTZ: Pan/Tilt/Zoom, presets, patrols, guard
//   - Alarm: Motion, AI, audio, buzzer, push
//   - LED: IR lights, white LED, power LED
//   - AI: AI detection, auto-tracking, auto-focus
//   - Streaming: RTSP, RTMP, FLV URL helpers
//
// # Documentation
//
// Complete API documentation: https://mosleyit.github.io/reolink_api_wrapper/
//
// Examples: https://github.com/mosleyit/reolink_api_wrapper/tree/main/examples
//
package reolink
```

### LICENSE (MIT)

```
MIT License

Copyright (c) 2024 [Your Name/Organization]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## Questions to Consider

1. **License choice**: MIT or Apache 2.0?
2. **Version number**: Start at v2.0.0 or v1.0.0?
3. **Backward compatibility**: Maintain v1.x branch?
4. **HTTP client extraction**: Full refactor or minimal changes?
5. **Type organization**: Keep all types in common or split by domain?
6. **Testing**: Hardware test access for validation?

---

## Conclusion

This restructure will transform the SDK into a canonical, industry-standard Go project while maintaining 100% API compatibility. The main user-facing change is the import path, making this a clean v2.0.0 release.

The new structure provides:
- ✅ Better organization and maintainability
- ✅ Clear separation of concerns
- ✅ Standard Go project layout
- ✅ Easier navigation for contributors
- ✅ Professional appearance for users
- ✅ Simpler import path

**Recommendation**: Proceed with full restructure as v2.0.0 release.


